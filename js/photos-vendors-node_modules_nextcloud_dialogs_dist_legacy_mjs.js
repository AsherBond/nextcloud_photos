"use strict";(self.webpackChunkphotos=self.webpackChunkphotos||[]).push([["vendors-node_modules_nextcloud_dialogs_dist_legacy_mjs"],{26470:(e,t,r)=>{var n=r(34155);function l(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function o(e,t){for(var r,n="",l=0,o=-1,i=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o===a-1||1===i);else if(o!==a-1&&2===i){if(n.length<2||2!==l||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var s=n.lastIndexOf("/");if(s!==n.length-1){-1===s?(n="",l=0):l=(n=n.slice(0,s)).length-1-n.lastIndexOf("/"),o=a,i=0;continue}}else if(2===n.length||1===n.length){n="",l=0,o=a,i=0;continue}t&&(n.length>0?n+="/..":n="..",l=2)}else n.length>0?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),l=a-o-1;o=a,i=0}else 46===r&&-1!==i?++i:i=-1}return n}var i={resolve:function(){for(var e,t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a;i>=0?a=arguments[i]:(void 0===e&&(e=n.cwd()),a=e),l(a),0!==a.length&&(t=a+"/"+t,r=47===a.charCodeAt(0))}return t=o(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(l(e),0===e.length)return".";var t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return 0!==(e=o(e,!t)).length||t||(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return l(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];l(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":i.normalize(e)},relative:function(e,t){if(l(e),l(t),e===t)return"";if((e=i.resolve(e))===(t=i.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var n=e.length,o=n-r,a=1;a<t.length&&47===t.charCodeAt(a);++a);for(var s=t.length-a,c=o<s?o:s,u=-1,h=0;h<=c;++h){if(h===c){if(s>c){if(47===t.charCodeAt(a+h))return t.slice(a+h+1);if(0===h)return t.slice(a+h)}else o>c&&(47===e.charCodeAt(r+h)?u=h:0===h&&(u=0));break}var d=e.charCodeAt(r+h);if(d!==t.charCodeAt(a+h))break;47===d&&(u=h)}var f="";for(h=r+u+1;h<=n;++h)h!==n&&47!==e.charCodeAt(h)||(0===f.length?f+="..":f+="/..");return f.length>0?f+t.slice(a+u):(a+=u,47===t.charCodeAt(a)&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(l(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){n=i;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"//":e.slice(0,n)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');l(e);var r,n=0,o=-1,i=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,s=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!i){n=r+1;break}}else-1===s&&(i=!1,s=r+1),a>=0&&(c===t.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=s))}return n===o?o=s:-1===o&&(o=e.length),e.slice(n,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!i){n=r+1;break}}else-1===o&&(i=!1,o=r+1);return-1===o?"":e.slice(n,o)},extname:function(e){l(e);for(var t=-1,r=0,n=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===n&&(o=!1,n=a+1),46===s?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){r=a+1;break}}return-1===t||-1===n||0===i||1===i&&t===n-1&&t===r+1?"":e.slice(t,n)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}("/",e)},parse:function(e){l(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,n=e.charCodeAt(0),o=47===n;o?(t.root="/",r=1):r=0;for(var i=-1,a=0,s=-1,c=!0,u=e.length-1,h=0;u>=r;--u)if(47!==(n=e.charCodeAt(u)))-1===s&&(c=!1,s=u+1),46===n?-1===i?i=u:1!==h&&(h=1):-1!==i&&(h=-1);else if(!c){a=u+1;break}return-1===i||-1===s||0===h||1===h&&i===s-1&&i===a+1?-1!==s&&(t.base=t.name=0===a&&o?e.slice(1,s):e.slice(a,s)):(0===a&&o?(t.name=e.slice(1,i),t.base=e.slice(1,s)):(t.name=e.slice(a,i),t.base=e.slice(a,s)),t.ext=e.slice(i,s)),a>0?t.dir=e.slice(0,a-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i},51819:(e,t,r)=>{r.r(t),r.d(t,{confirm:()=>h,filepicker:()=>u});var n=r(26470),l=r(89028),o=(r(48588),r(20144)),i=r(34594);const a='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-multiple" viewBox="0 0 24 24"><path d="M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z" /></svg>',s='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-move" viewBox="0 0 24 24"><path d="M14,18V15H10V11H14V8L19,13M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z" /></svg>',c=(e,t,r=(()=>{}))=>{const n=document.createElement("div");(document.querySelector(null==t?void 0:t.container)||document.body).appendChild(n);const l=new o.ZP({el:n,name:"VueDialogHelper",render:n=>n(e,{props:t,on:{close:()=>{r(),l.$destroy()}}})})};async function u(e,t,r=!1,o,i,u=l.a.Choose,h,d){const f=(e,t)=>{const n=e=>{const t=(null==e?void 0:e.root)||"";let r=(null==e?void 0:e.path)||"";return r.startsWith(t)&&(r=r.slice(t.length)||"/"),r};return r?r=>e(r.map(n),t):r=>e(n(r[0]),t)};let v;u===l.a.Custom?(v=[],(d.buttons||[]).forEach((e=>{v.push({callback:f(t,e.type),label:e.text,type:e.defaultButton?"primary":"secondary"})}))):v=(e,o)=>{var i,c,h;const d=[],v=(null==(c=null==(i=null==e?void 0:e[0])?void 0:i.attributes)?void 0:c.displayName)||(null==(h=null==e?void 0:e[0])?void 0:h.basename),g=v||(0,n.basename)(o);return u===l.a.Choose&&d.push({callback:f(t,l.a.Choose),label:v&&!r?(0,l.t)("Choose {file}",{file:v}):(0,l.t)("Choose"),type:"primary"}),(u===l.a.CopyMove||u===l.a.Copy)&&d.push({callback:f(t,l.a.Copy),label:g?(0,l.t)("Copy to {target}",{target:g}):(0,l.t)("Copy"),type:"primary",icon:a}),(u===l.a.Move||u===l.a.CopyMove)&&d.push({callback:f(t,l.a.Move),label:g?(0,l.t)("Move to {target}",{target:g}):(0,l.t)("Move"),type:u===l.a.Move?"primary":"secondary",icon:s}),d};const g={};"function"==typeof(null==d?void 0:d.filter)&&(g.filterFn=e=>d.filter((e=>{var t,r,n,l,o,i;return{id:e.fileid||null,path:e.path,mimetype:e.mime||null,mtime:(null==(t=e.mtime)?void 0:t.getTime())||null,permissions:e.permissions,name:(null==(r=e.attributes)?void 0:r.displayname)||e.basename,etag:(null==(n=e.attributes)?void 0:n.etag)||null,hasPreview:(null==(l=e.attributes)?void 0:l.hasPreview)||null,mountType:(null==(o=e.attributes)?void 0:o.mountType)||null,quotaAvailableBytes:(null==(i=e.attributes)?void 0:i.quotaAvailableBytes)||null,icon:null,sharePermissions:null}})(e)));const p="string"==typeof o?[o]:o||[];c(l.c,{...g,name:e,buttons:v,multiselect:r,path:h,mimetypeFilter:p,allowPickDirectory:!0===(null==d?void 0:d.allowDirectoryChooser)||p.includes("httpd/unix-directory")})}async function h(e,t,r,n){c(i.D,{name:t,message:e,buttons:[{label:"No",callback:()=>r(!1)},{label:"Yes",type:"primary",callback:()=>r(!0)}],size:"small"},(()=>r(!1)))}}}]);
//# sourceMappingURL=photos-vendors-node_modules_nextcloud_dialogs_dist_legacy_mjs.js.map?v=77b188d9a1189f9e689b