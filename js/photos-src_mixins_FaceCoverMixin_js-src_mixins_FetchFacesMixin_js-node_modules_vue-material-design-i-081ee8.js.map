{"version":3,"file":"photos-src_mixins_FaceCoverMixin_js-src_mixins_FetchFacesMixin_js-node_modules_vue-material-design-i-081ee8.js?v=345f2f54ea16fbcdf82b","mappings":";86BAyBA,SACCA,KAAM,iBAENC,SAAU,EAAF,IACJC,EAAAA,EAAAA,IAAW,CACb,QACA,aACA,WAIFC,QAAS,CACRC,aAAY,SAACC,GAAU,WAEhBC,EAAoB,SAACC,GAC1B,OAAOC,KAAKC,IAAI,GAAI,GAAKF,EAAcG,EAA0B,GAAtBH,EAAcI,QACvDH,KAAKC,IAAI,GAAI,GAAKF,EAAcK,EAA2B,GAAvBL,EAAcM,SAClDL,KAAKC,IAAI,GAAI,GAAK,GAAKF,EAAcG,EAAIH,EAAcI,OAA+B,GAAtBJ,EAAcI,QAC9EH,KAAKC,IAAI,GAAI,GAAK,GAAKF,EAAcK,EAAIL,EAAcM,QAAiC,GAAvBN,EAAcM,QAClF,EAEA,OAAQC,KAAKC,WAAWV,IAAa,IACnCW,MAAM,EAAG,IACTC,KAAI,SAAAC,GAAM,OAAI,EAAKC,MAAMD,EAAO,IAChCD,KAAI,SAAAG,GAAI,cAAUA,GAAI,IAAEC,eAAgBC,KAAKC,MAAMC,IAAAA,OAAUJ,EAAKC,kBAAgB,IAElFI,MAAK,SAACC,EAAGC,GAAC,OACVA,EAAEN,eAAeO,MAAK,SAAAC,GAAC,OAAIA,EAAEC,QAAUzB,CAAQ,IAAEM,MAC/Ce,EAAEL,eAAeO,MAAK,SAAAC,GAAC,OAAIA,EAAEC,QAAUzB,CAAQ,IAAEM,KAAK,IAGxDc,MAAK,SAACC,EAAGC,GAAC,OACVD,EAAEL,eAAeU,OACfJ,EAAEN,eAAeU,MAAM,IAGzBN,MAAK,SAACC,EAAGC,GAAC,OACVrB,EAAkBoB,EAAEL,eAAeO,MAAK,SAAAC,GAAC,OAAIA,EAAEC,QAAUzB,CAAQ,KAC/DC,EAAkBqB,EAAEN,eAAeO,MAAK,SAAAC,GAAC,OAAIA,EAAEC,QAAUzB,CAAQ,IAAE,IACpE,EACJ,EASA2B,cAAa,SAAC3B,GACb,IAAM4B,EAAQnB,KAAKV,aAAaC,GAChC,IAAK4B,EACJ,MAAO,CAAC,EAET,IAEMC,EAFaD,EAAMZ,eAEIO,MAAK,SAAAM,GAAS,OAAIA,EAAUJ,QAAUzB,CAAQ,IAIrE8B,EAAO3B,KAAKC,IAAI,EAAI,EAAIyB,EAAUvB,MAAS,IAE3CyB,EAA+D,KAArCF,EAAUxB,EAAIwB,EAAUvB,MAAQ,GAC1D0B,EAA8D,KAAtCH,EAAUtB,EAAIsB,EAAUrB,OAAS,GAE/D,MAAO,CAENF,MAAO,OAGP2B,UAAW,gDAAF,OAAkDF,EAAsB,mDAA2CC,EAAoB,sBAAcF,EAAI,KAElKI,gBAAiB,GAAF,OAAKH,EAAsB,aAAKC,EAAoB,KAErE,giCClGF,ouNAgCA,SACCrC,KAAM,kBAENwC,KAAI,WACH,MAAO,CACNC,mBAAoB,KACpBC,cAAc,EACdC,mBAAoB,KACpBC,cAAc,EAEhB,EAEAC,OAAQ,UACPC,GAGKC,YAAW,WAAG,4GACnB,EAAKC,aAAY,0CADE,EAEpB,EAEA/C,SAAU,EAAF,IACJC,EAAAA,EAAAA,IAAW,CACb,WAIFC,QAAS,EAAF,MACH8C,EAAAA,EAAAA,IAAW,CACb,iBACC,IAEID,WAAU,WAAG,wHACd,EAAKN,aAAc,CAAF,oDAIjBQ,OAAOC,KAAK,EAAKC,OAAOrB,OAAQ,CAAF,gDAMH,OANG,SAKjC,EAAKW,cAAe,EACpB,EAAKD,mBAAqB,KAAI,SAEVY,EAAAA,GAAAA,qBAA4B,cAAD,OAA+B,QAA/B,GAAeC,EAAAA,EAAAA,aAAgB,aAAhB,EAAkBC,IAAG,WAAW,CAC7FC,OAAQ,EAAKC,gBAAgBD,SAC5B,OAFIJ,EAAQ,EAAH,KAGX,EAAKM,OAAOC,SAAS,WAAY,CAAEP,MAAAA,IACnCQ,EAAAA,EAAAA,MAAa,6BAAD,OAA8BR,EAAMrB,OAAM,gBAAgBqB,GAAM,kDAExE,KAAMS,UAAY,KAAMA,SAASC,SACN,MAA1B,KAAMD,SAASC,OAClB,EAAKrB,mBAAqB,IAE1B,EAAKA,mBAAqB,EAAH,IAGzBmB,EAAAA,EAAAA,MAAaG,EAAE,SAAU,+BAAgC,CAAEC,MAAK,QAChEC,EAAAA,EAAAA,WAAUF,EAAE,SAAU,gCAA+B,QAE5B,OAF4B,UAErD,EAAKrB,cAAe,EAAK,4EA7BR,EA+BnB,EAEMwB,iBAAgB,SAAC7D,EAAU8D,GAAO,4HACnC,EAAKvB,aAAc,CAAF,mDAIhBuB,IAAS,EAAKpD,WAAWV,KAAa,EAAKU,WAAWV,GAAU0B,OAAM,iDAMlD,OANkD,SAK1E,EAAKY,mBAAqB,KAC1B,EAAKC,cAAe,EAAI,SAEWS,EAAAA,GAAAA,qBAA4B,cAAD,OAC/B,QAD+B,GAC/CC,EAAAA,EAAAA,aAAgB,aAAhB,EAAkBC,IAAG,kBAAUlD,GAC7C,CACCmC,KAAM4B,EAAAA,EACNC,SAAS,EACTb,OAAQ,EAAKC,gBAAgBD,SAE9B,OAQ6B,GAR7B,SAEDc,GATYA,EAAY,EAAlB9B,MAUJvB,KAAI,SAAAG,GAAI,OAAImD,EAAAA,EAAAA,IAAYnD,EAAK,IAC7BH,KAAI,SAAAG,GAAI,cAAUA,GAAI,IAAEoD,SAAUpD,EAAKqD,SAASC,QAAQ,IAAD,QAAKpB,EAAAA,EAAAA,MAAiBC,IAAG,UAAU,KAAG,IAEzFoB,EAAUL,EAAarD,KAAI,SAAAG,GAAI,MAAI,GAAKA,EAAKwD,MAAM,IAEzD,EAAKC,YAAYP,KAEbA,EAAavC,OAAS,GAAC,kCACpB,EAAK2B,OAAOoB,OAAO,iBAAkB,CAAEzE,SAAAA,EAAU0E,aAAcJ,IAAU,QAGhFf,EAAAA,EAAAA,MAAa,6BAAD,OAA8Be,EAAQ5C,OAAM,gBAAgB4C,GAAQ,kDAE5E,KAAMd,UAAY,KAAMA,SAASC,SACN,MAA1B,KAAMD,SAASC,OAClB,EAAKnB,mBAAqB,IAE1B,EAAKA,mBAAqB,EAAH,IAKzBiB,EAAAA,EAAAA,MAAa,4BAA6B,CAAEI,MAAK,OAAG,QAE3B,OAF2B,UAEpD,EAAKpB,cAAe,EAAK,4EA/Ca,EAiDxC,uCC9HF,MCpB6H,EDoB7H,CACE5C,KAAM,gCACNgF,MAAO,CAAC,SACRC,MAAO,CACLnD,MAAO,CACLoD,KAAMC,QAERC,UAAW,CACTF,KAAMC,OACNE,QAAS,gBAEXC,KAAM,CACJJ,KAAMK,OACNF,QAAS,MEff,SAXgB,cACd,GCRW,WAAkB,IAAIG,EAAI1E,KAAK2E,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,OAAOD,EAAIG,GAAG,CAACC,YAAY,yDAAyDC,MAAM,CAAC,eAAeL,EAAI1D,MAAM,aAAa0D,EAAI1D,MAAM,KAAO,OAAOgE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOP,EAAIQ,MAAM,QAASD,EAAO,IAAI,OAAOP,EAAIS,QAAO,GAAO,CAACR,EAAG,MAAM,CAACG,YAAY,4BAA4BC,MAAM,CAAC,KAAOL,EAAIJ,UAAU,MAAQI,EAAIF,KAAK,OAASE,EAAIF,KAAK,QAAU,cAAc,CAACG,EAAG,OAAO,CAACI,MAAM,CAAC,EAAI,+TAA+T,CAAEL,EAAS,MAAEC,EAAG,QAAQ,CAACD,EAAIU,GAAGV,EAAIW,GAAGX,EAAI1D,UAAU0D,EAAIY,UACn1B,GACsB,IDSpB,EACA,KACA,KACA,MAI8B","sources":["webpack:///photos/src/mixins/FaceCoverMixin.js","webpack:///photos/src/mixins/FetchFacesMixin.js","webpack:///photos/node_modules/vue-material-design-icons/AccountBoxMultipleOutline.vue","webpack:///photos/node_modules/vue-material-design-icons/AccountBoxMultipleOutline.vue?vue&type=script&lang=js&","webpack://photos/./node_modules/vue-material-design-icons/AccountBoxMultipleOutline.vue?a4da","webpack:///photos/node_modules/vue-material-design-icons/AccountBoxMultipleOutline.vue?vue&type=template&id=6bcc1fce&"],"sourcesContent":["/**\n * @copyright Copyright (c) 2022 Marcel Klehr <mklehr@gmx.net>\n *\n * @author Marcel Klehr <mklehr@gmx.net>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { mapGetters } from 'vuex'\nimport he from 'he'\n\nexport default {\n\tname: 'FaceCoverMixin',\n\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'faces',\n\t\t\t'facesFiles',\n\t\t\t'files',\n\t\t]),\n\t},\n\n\tmethods: {\n\t\tgetFaceCover(faceName) {\n\t\t\t// Give high scores for faces that intersect with the edge of the picture (with a margin of half the face size)\n\t\t\tconst scoreFacePosition = (faceDetection) => {\n\t\t\t\treturn Math.max(0, -1 * (faceDetection.x - faceDetection.width * 0.5))\n\t\t\t\t+ Math.max(0, -1 * (faceDetection.y - faceDetection.height * 0.5))\n\t\t\t\t+ Math.max(0, -1 * (1 - (faceDetection.x + faceDetection.width) - faceDetection.width * 0.5))\n\t\t\t\t+ Math.max(0, -1 * (1 - (faceDetection.y + faceDetection.height) - faceDetection.height * 0.5))\n\t\t\t}\n\n\t\t\treturn (this.facesFiles[faceName] || [])\n\t\t\t\t.slice(0, 25)\n\t\t\t\t.map(fileId => this.files[fileId])\n\t\t\t\t.map(file => ({ ...file, faceDetections: JSON.parse(he.decode(file.faceDetections)) }))\n\t\t\t\t// sort larges face first\n\t\t\t\t.sort((a, b) =>\n\t\t\t\t\tb.faceDetections.find(d => d.title === faceName).width\n\t\t\t\t\t- a.faceDetections.find(d => d.title === faceName).width\n\t\t\t\t)\n\t\t\t\t// sort fewest face detections first\n\t\t\t\t.sort((a, b) =>\n\t\t\t\t\ta.faceDetections.length\n\t\t\t\t\t- b.faceDetections.length\n\t\t\t\t)\n\t\t\t\t// Sort faces that are at the edge last\n\t\t\t\t.sort((a, b) =>\n\t\t\t\t\tscoreFacePosition(a.faceDetections.find(d => d.title === faceName))\n\t\t\t\t\t- scoreFacePosition(b.faceDetections.find(d => d.title === faceName))\n\t\t\t\t)[0]\n\t\t},\n\n\t\t/**\n\t\t * This will produce an inline style to apply to images\n\t\t * to zoom toward the detected face\n\t\t *\n\t\t * @param faceName\n\t\t * @return {{}|{transform: string, width: string, transformOrigin: string}}\n\t\t */\n\t\tgetCoverStyle(faceName) {\n\t\t\tconst cover = this.getFaceCover(faceName)\n\t\t\tif (!cover) {\n\t\t\t\treturn {}\n\t\t\t}\n\t\t\tconst detections = cover.faceDetections\n\n\t\t\tconst detection = detections.find(detection => detection.title === faceName)\n\n\t\t\t// Zoom into the picture so that the face fills the --photos-face-width box nicely\n\t\t\t// if the face is larger than the image, we don't zoom out (reason for the Math.max)\n\t\t\tconst zoom = Math.max(1, (1 / detection.width) * 0.4)\n\n\t\t\tconst horizontalCenterOfFace = (detection.x + detection.width / 2) * 100\n\t\t\tconst verticalCenterOfFace = (detection.y + detection.height / 2) * 100\n\n\t\t\treturn {\n\t\t\t\t// We assume that the image is inside a div with width: var(--photos-face-width)\n\t\t\t\twidth: '100%',\n\t\t\t\t// we translate the image so that the center of the detected face is in the center of the --photos-face-width box\n\t\t\t\t// and add the zoom\n\t\t\t\ttransform: `translate(calc( var(--photos-face-width)/2 - ${horizontalCenterOfFace}% ), calc( var(--photos-face-width)/2 - ${verticalCenterOfFace}% )) scale(${zoom})`,\n\t\t\t\t// this is necessary for the zoom to zoom toward the center of the face\n\t\t\t\ttransformOrigin: `${horizontalCenterOfFace}% ${verticalCenterOfFace}%`,\n\t\t\t}\n\t\t},\n\t},\n}\n","/**\n * @copyright Copyright (c) 2022 Louis Chemineau <louis@chmn.me>\n *\n * @author Louis Chemineau <louis@chmn.me>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { mapActions, mapGetters } from 'vuex'\n\nimport { showError } from '@nextcloud/dialogs'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nimport client from '../services/DavClient.js'\nimport logger from '../services/logger.js'\nimport DavRequest from '../services/DavRequest'\nimport { genFileInfo } from '../utils/fileUtils'\nimport AbortControllerMixin from './AbortControllerMixin'\n\nexport default {\n\tname: 'FetchFacesMixin',\n\n\tdata() {\n\t\treturn {\n\t\t\terrorFetchingFaces: null,\n\t\t\tloadingFaces: false,\n\t\t\terrorFetchingFiles: null,\n\t\t\tloadingFiles: false,\n\t\t}\n\t},\n\n\tmixins: [\n\t\tAbortControllerMixin,\n\t],\n\n\tasync beforeMount() {\n\t\tthis.fetchFaces()\n\t},\n\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'faces',\n\t\t]),\n\t},\n\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'appendFiles',\n\t\t]),\n\n\t\tasync fetchFaces() {\n\t\t\tif (this.loadingFaces) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (Object.keys(this.faces).length) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tthis.loadingFaces = true\n\t\t\t\tthis.errorFetchingFaces = null\n\n\t\t\t\tconst faces = await client.getDirectoryContents(`/recognize/${getCurrentUser()?.uid}/faces/`, {\n\t\t\t\t\tsignal: this.abortController.signal,\n\t\t\t\t})\n\t\t\t\tthis.$store.dispatch('addFaces', { faces })\n\t\t\t\tlogger.debug(`[FetchFacesMixin] Fetched ${faces.length} new faces: `, faces)\n\t\t\t} catch (error) {\n\t\t\t\tif (error.response && error.response.status) {\n\t\t\t\t\tif (error.response.status === 404) {\n\t\t\t\t\t\tthis.errorFetchingFaces = 404\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.errorFetchingFaces = error\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlogger.error(t('photos', 'Failed to fetch faces list.'), { error })\n\t\t\t\tshowError(t('photos', 'Failed to fetch faces list.'))\n\t\t\t} finally {\n\t\t\t\tthis.loadingFaces = false\n\t\t\t}\n\t\t},\n\n\t\tasync fetchFaceContent(faceName, force) {\n\t\t\tif (this.loadingFiles) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!force && this.facesFiles[faceName] && this.facesFiles[faceName].length) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tthis.errorFetchingFiles = null\n\t\t\t\tthis.loadingFiles = true\n\n\t\t\t\tlet { data: fetchedFiles } = await client.getDirectoryContents(\n\t\t\t\t\t`/recognize/${getCurrentUser()?.uid}/faces/${faceName}`,\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: DavRequest,\n\t\t\t\t\t\tdetails: true,\n\t\t\t\t\t\tsignal: this.abortController.signal,\n\t\t\t\t\t}\n\t\t\t\t)\n\n\t\t\t\tfetchedFiles = fetchedFiles\n\t\t\t\t\t.map(file => genFileInfo(file))\n\t\t\t\t\t.map(file => ({ ...file, filename: file.realpath.replace(`/${getCurrentUser().uid}/files`, '') }))\n\n\t\t\t\tconst fileIds = fetchedFiles.map(file => '' + file.fileid)\n\n\t\t\t\tthis.appendFiles(fetchedFiles)\n\n\t\t\t\tif (fetchedFiles.length > 0) {\n\t\t\t\t\tawait this.$store.commit('addFilesToFace', { faceName, fileIdsToAdd: fileIds })\n\t\t\t\t}\n\n\t\t\t\tlogger.debug(`[FetchFacesMixin] Fetched ${fileIds.length} new files: `, fileIds)\n\t\t\t} catch (error) {\n\t\t\t\tif (error.response && error.response.status) {\n\t\t\t\t\tif (error.response.status === 404) {\n\t\t\t\t\t\tthis.errorFetchingFiles = 404\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.errorFetchingFiles = error\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// cancelled request, moving on...\n\t\t\t\tlogger.error('Error fetching face files', { error })\n\t\t\t} finally {\n\t\t\t\tthis.loadingFiles = false\n\t\t\t}\n\t\t},\n\t},\n}\n","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"!title\"\n        :aria-label=\"title\"\n        class=\"material-design-icon account-box-multiple-outline-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M4 6H2V20C2 21.11 2.9 22 4 22H18V20H4V6M18.5 14.25C18.5 12.75 15.5 12 14 12S9.5 12.75 9.5 14.25V15H18.5M14 10.25C15.24 10.25 16.25 9.24 16.25 8S15.24 5.75 14 5.75 11.75 6.76 11.75 8 12.76 10.25 14 10.25M20 2H8C6.9 2 6 2.9 6 4V16C6 17.11 6.9 18 8 18H20C21.11 18 22 17.11 22 16V4C22 2.89 21.1 2 20 2M20 16H8V4H20V16Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"AccountBoxMultipleOutlineIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./AccountBoxMultipleOutline.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./AccountBoxMultipleOutline.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountBoxMultipleOutline.vue?vue&type=template&id=6bcc1fce&\"\nimport script from \"./AccountBoxMultipleOutline.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountBoxMultipleOutline.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',_vm._b({staticClass:\"material-design-icon account-box-multiple-outline-icon\",attrs:{\"aria-hidden\":!_vm.title,\"aria-label\":_vm.title,\"role\":\"img\"},on:{\"click\":function($event){return _vm.$emit('click', $event)}}},'span',_vm.$attrs,false),[_c('svg',{staticClass:\"material-design-icon__svg\",attrs:{\"fill\":_vm.fillColor,\"width\":_vm.size,\"height\":_vm.size,\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M4 6H2V20C2 21.11 2.9 22 4 22H18V20H4V6M18.5 14.25C18.5 12.75 15.5 12 14 12S9.5 12.75 9.5 14.25V15H18.5M14 10.25C15.24 10.25 16.25 9.24 16.25 8S15.24 5.75 14 5.75 11.75 6.76 11.75 8 12.76 10.25 14 10.25M20 2H8C6.9 2 6 2.9 6 4V16C6 17.11 6.9 18 8 18H20C21.11 18 22 17.11 22 16V4C22 2.89 21.1 2 20 2M20 16H8V4H20V16Z\"}},[(_vm.title)?_c('title',[_vm._v(_vm._s(_vm.title))]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"names":["name","computed","mapGetters","methods","getFaceCover","faceName","scoreFacePosition","faceDetection","Math","max","x","width","y","height","this","facesFiles","slice","map","fileId","files","file","faceDetections","JSON","parse","he","sort","a","b","find","d","title","length","getCoverStyle","cover","detection","zoom","horizontalCenterOfFace","verticalCenterOfFace","transform","transformOrigin","data","errorFetchingFaces","loadingFaces","errorFetchingFiles","loadingFiles","mixins","AbortControllerMixin","beforeMount","fetchFaces","mapActions","Object","keys","faces","client","getCurrentUser","uid","signal","abortController","$store","dispatch","logger","response","status","t","error","showError","fetchFaceContent","force","DavRequest","details","fetchedFiles","genFileInfo","filename","realpath","replace","fileIds","fileid","appendFiles","commit","fileIdsToAdd","emits","props","type","String","fillColor","default","size","Number","_vm","_c","_self","_b","staticClass","attrs","on","$event","$emit","$attrs","_v","_s","_e"],"sourceRoot":""}