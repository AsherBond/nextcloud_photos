{"version":3,"file":"photos-src_views_AlbumContent_vue.js?v=7a2494a7692263f87ae0","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxIA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACjaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkBA;AACA;;;;;;;;;;;;;;;ACvCA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AMAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACpJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///photos/src/components/FilesPicker.vue?vue&type=script&lang=js&","webpack:///photos/src/components/ShareAlbumForm.vue?vue&type=script&lang=js&","webpack:///photos/src/views/AlbumContent.vue?vue&type=script&lang=js&","webpack:///photos/src/components/FilesPicker.vue?vue&type=style&index=0&id=10d87d65&lang=scss&scoped=true&","webpack:///photos/src/views/AlbumContent.vue?vue&type=style&index=0&id=36505f44&lang=scss&scoped=true&","webpack://photos/./src/components/FilesPicker.vue?7e53","webpack://photos/./src/views/AlbumContent.vue?ca7c","webpack:///photos/src/components/FilesPicker.vue","webpack:///photos/src/components/ShareAlbumForm.vue","webpack:///photos/src/views/AlbumContent.vue","webpack://photos/./src/components/FilesPicker.vue?dba4","webpack://photos/./src/components/ShareAlbumForm.vue?bc3f","webpack://photos/./src/views/AlbumContent.vue?fe3a","webpack://photos/./src/components/FilesPicker.vue?4622","webpack://photos/./src/views/AlbumContent.vue?17f8","webpack:///photos/src/components/FilesPicker.vue?vue&type=template&id=10d87d65&scoped=true&","webpack:///photos/src/components/ShareAlbumForm.vue?vue&type=template&id=6adf0238&","webpack:///photos/src/views/AlbumContent.vue?vue&type=template&id=36505f44&scoped=true&","webpack://photos/./src/components/FilesPicker.vue?8044","webpack://photos/./src/components/ShareAlbumForm.vue?6631","webpack://photos/./src/views/AlbumContent.vue?7861"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ImagePlus from 'vue-material-design-icons/ImagePlus';\nimport Upload from 'vue-material-design-icons/Upload';\nimport moment from '@nextcloud/moment';\nimport { Button } from '@nextcloud/vue';\nimport FetchFilesMixin from '../mixins/FetchFilesMixin.js';\nimport FilesSelectionMixin from '../mixins/FilesSelectionMixin.js';\nimport FilesListViewer from './FilesListViewer.vue';\nimport File from './File.vue';\nimport FilesByMonthMixin from '../mixins/FilesByMonthMixin.js';\nexport default {\n  name: 'FilesPicker',\n  components: {\n    ImagePlus,\n    Upload,\n    Button,\n    FilesListViewer,\n    File\n  },\n  filters: {\n    /**\n     * @param {string} date - In the following format: YYYYMM\n     */\n    dateMonthAndYear(date) {\n      return moment(date, 'YYYYMM').format('MMMM YYYY');\n    }\n\n  },\n  mixins: [FetchFilesMixin, FilesByMonthMixin, FilesSelectionMixin],\n  // List of file ids to not show.\n  props: {\n    blacklistIds: {\n      type: Array,\n      default: []\n    }\n  },\n\n  data() {\n    return {\n      targetMonth: null\n    };\n  },\n\n  watch: {\n    monthsList(value) {\n      if (this.targetMonth === null) {\n        this.targetMonth = value[0];\n      }\n    }\n\n  },\n  methods: {\n    getFiles() {\n      this.fetchFiles('', {}, this.blacklistIds);\n    },\n\n    emitPickedEvent() {\n      this.$emit('files-picked', this.selectedFileIds);\n    }\n\n  }\n};","//\n//\n//\n//\nexport default {\n  name: 'ShareAlbumForm'\n};","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions, mapGetters } from 'vuex';\nimport MapMarker from 'vue-material-design-icons/MapMarker';\nimport ShareVariant from 'vue-material-design-icons/ShareVariant';\nimport Plus from 'vue-material-design-icons/Plus';\nimport Pencil from 'vue-material-design-icons/Pencil';\nimport TrashCan from 'vue-material-design-icons/TrashCan';\nimport ImagePlus from 'vue-material-design-icons/ImagePlus';\nimport AlertCircle from 'vue-material-design-icons/AlertCircle';\nimport Star from 'vue-material-design-icons/Star';\nimport DownloadOutline from 'vue-material-design-icons/DownloadOutline';\nimport { Actions, ActionButton, Button, Modal, EmptyContent } from '@nextcloud/vue';\nimport { getCurrentUser } from '@nextcloud/auth';\nimport FetchAlbumsMixin from '../mixins/FetchAlbumsMixin.js';\nimport FetchFilesMixin from '../mixins/FetchFilesMixin.js';\nimport FilesSelectionMixin from '../mixins/FilesSelectionMixin.js';\nimport FilesListViewer from '../components/FilesListViewer.vue';\nimport File from '../components/File.vue';\nimport Loader from '../components/Loader.vue';\nimport FilesPicker from '../components/FilesPicker.vue';\nimport ShareAlbumForm from '../components/ShareAlbumForm.vue';\nimport AlbumForm from '../components/AlbumForm.vue';\nimport FolderIllustration from '../assets/Illustrations/folder.svg';\nimport logger from '../services/logger.js';\nimport client from '../services/DavClient.js';\nimport DavRequest from '../services/DavRequest.js';\nimport cancelableRequest from '../utils/CancelableRequest.js';\nexport default {\n  name: 'AlbumContent',\n  components: {\n    MapMarker,\n    ShareVariant,\n    Plus,\n    Pencil,\n    Star,\n    DownloadOutline,\n    TrashCan,\n    ImagePlus,\n    AlertCircle,\n    FilesListViewer,\n    File,\n    AlbumForm,\n    EmptyContent,\n    Loader,\n    Actions,\n    ActionButton,\n    Button,\n    Modal,\n    FilesPicker,\n    ShareAlbumForm\n  },\n  mixins: [FetchAlbumsMixin, FetchFilesMixin, FilesSelectionMixin],\n  props: {\n    albumName: {\n      type: String,\n      default: '/'\n    }\n  },\n\n  data() {\n    return {\n      showAddPhotosModal: false,\n      showShareModal: false,\n      showEditAlbumForm: false,\n      FolderIllustration,\n      loadingCount: 0\n    };\n  },\n\n  computed: { ...mapGetters(['files', 'albumsFiles']),\n\n    /**\n     * @return {string[]} The album information for the current albumName.\n     */\n    album() {\n      return this.albums[this.albumName];\n    },\n\n    /**\n     * @return {string[]} The list of files for the current albumName.\n     */\n    albumFileIds() {\n      return this.albumsFiles[this.albumName] || [];\n    },\n\n    /** @type {boolean} */\n    shouldFavoriteSelection() {\n      // Favorite all selection if at least one file is not on the favorites.\n      return this.selectedFileIds.some(fileId => this.$store.state.files.files[fileId].favorite === 0);\n    }\n\n  },\n  watch: {\n    album() {\n      this.fetchAlbumContent();\n    }\n\n  },\n  methods: { ...mapActions(['appendFiles', 'deleteAlbum', 'addFilesToAlbum', 'removeFilesFromAlbum']),\n\n    async fetchAlbumContent() {\n      if (this.loadingFiles) {\n        return [];\n      }\n\n      const semaphoreSymbol = await this.semaphore.acquire(() => 0, 'fetchFiles');\n      const fetchSemaphoreSymbol = await this.fetchSemaphore.acquire();\n\n      try {\n        this.errorFetchingFiles = null;\n        this.loadingFiles = true;\n        this.semaphoreSymbol = semaphoreSymbol;\n        const {\n          request,\n          cancel\n        } = cancelableRequest(client.getDirectoryContents);\n        this.cancelFilesRequest = cancel;\n        const fetchedFiles = await request(`/photos/${getCurrentUser()?.uid}/albums/${this.albumName}`, {\n          data: DavRequest\n        });\n        const fileIds = fetchedFiles.map(file => file.fileid);\n        this.appendFiles(fetchedFiles);\n\n        if (fetchedFiles.length > 0) {\n          await this.$store.commit('addFilesToAlbum', {\n            albumName: this.albumName,\n            fileIdsToAdd: fileIds\n          });\n        }\n\n        logger.debug(`[AlbumContent] Fetched ${fileIds.length} new files: `, fileIds);\n      } catch (error) {\n        if (error.response && error.response.status) {\n          if (error.response.status === 404) {\n            this.errorFetchingFiles = 404;\n          } else {\n            this.errorFetchingFiles = error;\n          }\n        } // cancelled request, moving on...\n\n\n        logger.error('Error fetching album files', error);\n      } finally {\n        this.loadingFiles = false;\n\n        this.cancelFilesRequest = () => {};\n\n        this.semaphore.release(semaphoreSymbol);\n        this.fetchSemaphore.release(fetchSemaphoreSymbol);\n      }\n\n      return [];\n    },\n\n    openViewer(fileId) {\n      const file = this.files[fileId];\n      OCA.Viewer.open({\n        path: file.filename,\n        list: this.albumFileIds.map(fileId => this.files[fileId]).filter(file => !file.sectionHeader),\n        loadMore: file.loadMore ? async () => await file.loadMore(true) : () => [],\n        canLoop: file.canLoop\n      });\n    },\n\n    async handleFilesPicked(fileIds) {\n      try {\n        this.loadingCount++;\n        await this.addFilesToAlbum({\n          albumName: this.albumName,\n          fileIdsToAdd: fileIds\n        });\n        this.showAddPhotosModal = false;\n      } catch (error) {\n        logger.error(error);\n      } finally {\n        this.loadingCount--;\n      }\n    },\n\n    async removeFilesFromAlbum(fileIds) {\n      try {\n        this.loadingCount++;\n        await this.removeFilesFromAlbum({\n          albumName: this.albumName,\n          fileIdsToAdd: fileIds\n        });\n      } catch (error) {\n        logger.error(error);\n      } finally {\n        this.loadingCount--;\n      }\n    },\n\n    async handleDeleteAlbum() {\n      try {\n        this.loadingCount++;\n        await this.deleteAlbum({\n          albumName: this.albumName\n        });\n        this.$router.push('/albums');\n      } catch (error) {\n        logger.error(error);\n      } finally {\n        this.loadingCount--;\n      }\n    },\n\n    async favoriteSelection() {\n      try {\n        this.loadingCount++;\n        await this.toggleFavoriteForFiles({\n          fileIds: this.selectedFileIds,\n          favoriteState: true\n        });\n      } catch (error) {\n        logger.error(error);\n      } finally {\n        this.loadingCount--;\n      }\n    },\n\n    async unFavoriteSelection() {\n      try {\n        this.loadingCount++;\n        await this.toggleFavoriteForFiles({\n          fileIds: this.selectedFileIds,\n          favoriteState: false\n        });\n      } catch (error) {\n        logger.error(error);\n      } finally {\n        this.loadingCount--;\n      }\n    },\n\n    async downloadSelection() {\n      try {\n        this.loadingCount++;\n        await this.downloadFiles(this.selectedFileIds);\n      } catch (error) {\n        logger.error(error);\n      } finally {\n        this.loadingCount--;\n      }\n    }\n\n  }\n};","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".file-picker[data-v-10d87d65] {\\n  display: flex;\\n  flex-direction: column;\\n  padding: 12px;\\n}\\n.file-picker__content[data-v-10d87d65] {\\n  display: flex;\\n  align-items: flex-start;\\n  flex-grow: 1;\\n  height: 500px;\\n}\\n.file-picker__navigation[data-v-10d87d65] {\\n  flex-basis: 200px;\\n  overflow: scroll;\\n  margin-right: 8px;\\n  padding-right: 8px;\\n  height: 100%;\\n}\\n.file-picker__navigation__month[data-v-10d87d65] {\\n  font-weight: bold;\\n  font-size: 16px;\\n  border-radius: 48px;\\n  padding: 8px 16px;\\n  margin: 4px 0;\\n  cursor: pointer;\\n}\\n.file-picker__navigation__month[data-v-10d87d65]:hover {\\n  background: var(--color-background-dark);\\n}\\n.file-picker__navigation__month.selected[data-v-10d87d65] {\\n  background: var(--color-primary-element-lighter);\\n}\\n.file-picker__file-list[data-v-10d87d65] {\\n  flex-grow: 1;\\n  min-width: 0;\\n  height: 100%;\\n}\\n.file-picker__file-list .section-header[data-v-10d87d65] {\\n  font-weight: bold;\\n  font-size: 20px;\\n  padding: 8px 0 4px 0;\\n}\\n.file-picker__actions[data-v-10d87d65] {\\n  display: flex;\\n  justify-content: space-between;\\n  justify-items: center;\\n  padding-top: 16px;\\n}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".album[data-v-36505f44] {\\n  display: flex;\\n  flex-direction: column;\\n  padding: 8px 64px;\\n}\\n.album__empty[data-v-36505f44] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n.album__empty__button[data-v-36505f44] {\\n  margin-top: 32px;\\n}\\n.album__header[data-v-36505f44] {\\n  display: flex;\\n  min-height: 60px;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n.album__header__left[data-v-36505f44] {\\n  height: 100%;\\n  display: flex;\\n  align-items: flex-start;\\n}\\n.album__header__title[data-v-36505f44] {\\n  min-width: 300px;\\n}\\n.album__header__title .album-location[data-v-36505f44] {\\n  margin-left: -4px;\\n  display: flex;\\n  color: var(--color-text-lighter);\\n}\\n.album__header__actions[data-v-36505f44] {\\n  display: flex;\\n  align-items: center;\\n}\\n.album__header__actions button[data-v-36505f44] {\\n  margin-left: 16px;\\n}\\n.album__photos[data-v-36505f44] {\\n  margin-top: 16px;\\n  height: 100%;\\n  min-height: 0;\\n}\\n.empty-content-with-illustration[data-v-36505f44]  .empty-content__icon {\\n  width: 200px;\\n  height: 200px;\\n}\\n.empty-content-with-illustration[data-v-36505f44]  .empty-content__icon svg {\\n  width: 200px;\\n  height: 200px;\\n}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[3]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesPicker.vue?vue&type=style&index=0&id=10d87d65&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[3]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesPicker.vue?vue&type=style&index=0&id=10d87d65&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[3]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumContent.vue?vue&type=style&index=0&id=36505f44&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[3]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumContent.vue?vue&type=style&index=0&id=36505f44&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./FilesPicker.vue?vue&type=template&id=10d87d65&scoped=true&\"\nimport script from \"./FilesPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./FilesPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilesPicker.vue?vue&type=style&index=0&id=10d87d65&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10d87d65\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/louis/workspace/nextcloud/apps/photos/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('10d87d65')) {\n      api.createRecord('10d87d65', component.options)\n    } else {\n      api.reload('10d87d65', component.options)\n    }\n    module.hot.accept(\"./FilesPicker.vue?vue&type=template&id=10d87d65&scoped=true&\", function () {\n      api.rerender('10d87d65', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/FilesPicker.vue\"\nexport default component.exports","import { render, staticRenderFns } from \"./ShareAlbumForm.vue?vue&type=template&id=6adf0238&\"\nimport script from \"./ShareAlbumForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ShareAlbumForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/louis/workspace/nextcloud/apps/photos/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('6adf0238')) {\n      api.createRecord('6adf0238', component.options)\n    } else {\n      api.reload('6adf0238', component.options)\n    }\n    module.hot.accept(\"./ShareAlbumForm.vue?vue&type=template&id=6adf0238&\", function () {\n      api.rerender('6adf0238', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/ShareAlbumForm.vue\"\nexport default component.exports","import { render, staticRenderFns } from \"./AlbumContent.vue?vue&type=template&id=36505f44&scoped=true&\"\nimport script from \"./AlbumContent.vue?vue&type=script&lang=js&\"\nexport * from \"./AlbumContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AlbumContent.vue?vue&type=style&index=0&id=36505f44&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36505f44\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/louis/workspace/nextcloud/apps/photos/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('36505f44')) {\n      api.createRecord('36505f44', component.options)\n    } else {\n      api.reload('36505f44', component.options)\n    }\n    module.hot.accept(\"./AlbumContent.vue?vue&type=template&id=36505f44&scoped=true&\", function () {\n      api.rerender('36505f44', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/AlbumContent.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesPicker.vue?vue&type=script&lang=js&\"","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareAlbumForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareAlbumForm.vue?vue&type=script&lang=js&\"","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumContent.vue?vue&type=script&lang=js&\"","export * from \"-!../../node_modules/style-loader/dist/cjs.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[3]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesPicker.vue?vue&type=style&index=0&id=10d87d65&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/style-loader/dist/cjs.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[3]!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumContent.vue?vue&type=style&index=0&id=36505f44&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesPicker.vue?vue&type=template&id=10d87d65&scoped=true&\"","export * from \"-!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShareAlbumForm.vue?vue&type=template&id=6adf0238&\"","export * from \"-!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumContent.vue?vue&type=template&id=36505f44&scoped=true&\"","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"file-picker\" }, [\n    _c(\n      \"div\",\n      { staticClass: \"file-picker__content\" },\n      [\n        _c(\n          \"div\",\n          { staticClass: \"file-picker__navigation\" },\n          _vm._l(_vm.monthsList, function (month) {\n            return _c(\n              \"div\",\n              {\n                key: month,\n                staticClass: \"file-picker__navigation__month\",\n                class: { selected: _vm.targetMonth === month },\n                on: {\n                  click: function ($event) {\n                    _vm.targetMonth = month\n                  },\n                },\n              },\n              [\n                _vm._v(\n                  \"\\n\\t\\t\\t\\t\" +\n                    _vm._s(_vm._f(\"dateMonthAndYear\")(month)) +\n                    \"\\n\\t\\t\\t\"\n                ),\n              ]\n            )\n          }),\n          0\n        ),\n        _vm._v(\" \"),\n        _c(\"FilesListViewer\", {\n          staticClass: \"file-picker__file-list\",\n          attrs: {\n            \"file-ids-by-section\": _vm.fileIdsByMonth,\n            sections: _vm.monthsList,\n            loading: _vm.loadingFiles,\n            \"base-height\": 100,\n            \"section-header-height\": 50,\n            \"scroll-to-section\": _vm.targetMonth,\n          },\n          on: { \"need-content\": _vm.getFiles },\n          scopedSlots: _vm._u([\n            {\n              key: \"default\",\n              fn: function (ref) {\n                var file = ref.file\n                var height = ref.height\n                var visibility = ref.visibility\n                return [\n                  file.sectionHeader\n                    ? _c(\n                        \"h3\",\n                        {\n                          staticClass: \"section-header\",\n                          style: { height: height + \"px\" },\n                          attrs: {\n                            id: \"file-picker-section-header-\" + file.id,\n                          },\n                        },\n                        [\n                          _vm._v(\n                            \"\\n\\t\\t\\t\\t\\t\" +\n                              _vm._s(_vm._f(\"dateMonthAndYear\")(file.id)) +\n                              \"\\n\\t\\t\\t\\t\"\n                          ),\n                        ]\n                      )\n                    : _c(\"File\", {\n                        attrs: {\n                          item: _vm.files[file.id],\n                          \"allow-selection\": true,\n                          selected: _vm.selection[file.id] === true,\n                          visibility: visibility,\n                          semaphore: _vm.semaphore,\n                        },\n                        on: { \"select-toggled\": _vm.onFileSelectToggle },\n                      }),\n                ]\n              },\n            },\n          ]),\n        }),\n      ],\n      1\n    ),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      { staticClass: \"file-picker__actions\" },\n      [\n        _c(\n          \"Button\",\n          {\n            attrs: { type: \"tertiary\" },\n            scopedSlots: _vm._u([\n              {\n                key: \"icon\",\n                fn: function () {\n                  return [_c(\"Upload\")]\n                },\n                proxy: true,\n              },\n            ]),\n          },\n          [\n            _vm._v(\n              \"\\n\\t\\t\\t\" +\n                _vm._s(_vm.t(\"photos\", \"Upload from computer\")) +\n                \"\\n\\t\\t\"\n            ),\n          ]\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"Button\",\n          {\n            attrs: { type: \"primary\" },\n            on: { click: _vm.emitPickedEvent },\n            scopedSlots: _vm._u([\n              {\n                key: \"icon\",\n                fn: function () {\n                  return [_c(\"ImagePlus\")]\n                },\n                proxy: true,\n              },\n            ]),\n          },\n          [\n            _vm._v(\n              \"\\n\\t\\t\\t\" + _vm._s(_vm.t(\"photos\", \"Add photos\")) + \"\\n\\t\\t\"\n            ),\n          ]\n        ),\n      ],\n      1\n    ),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", [_vm._v(\"ShareAlbumForm\")])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.album === undefined && !_vm.loadingAlbums\n    ? _c(\n        \"EmptyContent\",\n        {\n          staticClass: \"empty-content-with-illustration\",\n          scopedSlots: _vm._u(\n            [\n              {\n                key: \"icon\",\n                fn: function () {\n                  return [\n                    _c(\"span\", {\n                      staticClass: \"empty-content-illustration\",\n                      domProps: { innerHTML: _vm._s(_vm.FolderIllustration) },\n                    }),\n                  ]\n                },\n                proxy: true,\n              },\n            ],\n            null,\n            false,\n            3945105199\n          ),\n        },\n        [\n          _vm._v(\n            \"\\n\\t\" + _vm._s(_vm.t(\"photos\", \"This album does not exist\")) + \"\\n\"\n          ),\n        ]\n      )\n    : _vm.errorFetchingFiles || _vm.errorFetchingAlbums\n    ? _c(\n        \"EmptyContent\",\n        {\n          scopedSlots: _vm._u([\n            {\n              key: \"icon\",\n              fn: function () {\n                return [_c(\"AlertCircle\")]\n              },\n              proxy: true,\n            },\n          ]),\n        },\n        [_vm._v(\"\\n\\t\" + _vm._s(_vm.t(\"photos\", \"An error occurred\")) + \"\\n\")]\n      )\n    : _c(\n        \"div\",\n        { staticClass: \"album\" },\n        [\n          _c(\"div\", { staticClass: \"album__header\" }, [\n            _c(\n              \"div\",\n              { staticClass: \"album__header__left\" },\n              [\n                _c(\"div\", { staticClass: \"album__header__title\" }, [\n                  _vm.album !== undefined\n                    ? _c(\"b\", { staticClass: \"album-name\" }, [\n                        _vm._v(\n                          \"\\n\\t\\t\\t\\t\\t\" +\n                            _vm._s(_vm.album.basename) +\n                            \"\\n\\n\\t\\t\\t\\t\"\n                        ),\n                      ])\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm.album !== undefined && _vm.album.location !== undefined\n                    ? _c(\n                        \"div\",\n                        { staticClass: \"album-location\" },\n                        [\n                          _c(\"MapMarker\"),\n                          _vm._v(_vm._s(_vm.album.location) + \"\\n\\t\\t\\t\\t\"),\n                        ],\n                        1\n                      )\n                    : _vm._e(),\n                ]),\n                _vm._v(\" \"),\n                _vm.loadingCount > 0 ? _c(\"Loader\") : _vm._e(),\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _vm.album !== undefined\n              ? _c(\n                  \"div\",\n                  { staticClass: \"album__header__actions\" },\n                  [\n                    _vm.album.size !== 0\n                      ? _c(\"Button\", {\n                          attrs: {\n                            type: \"tertiary\",\n                            \"aria-label\": _vm.t(\n                              \"photos\",\n                              \"Add photos to this album\"\n                            ),\n                          },\n                          on: {\n                            click: function ($event) {\n                              _vm.showAddPhotosModal = true\n                            },\n                          },\n                          scopedSlots: _vm._u(\n                            [\n                              {\n                                key: \"icon\",\n                                fn: function () {\n                                  return [_c(\"Plus\")]\n                                },\n                                proxy: true,\n                              },\n                            ],\n                            null,\n                            false,\n                            1489515321\n                          ),\n                        })\n                      : _vm._e(),\n                    _vm._v(\" \"),\n                    _c(\"Button\", {\n                      attrs: {\n                        type: \"tertiary\",\n                        \"aria-label\": _vm.t(\"photos\", \"Share this album\"),\n                      },\n                      on: {\n                        click: function ($event) {\n                          _vm.showShareModal = true\n                        },\n                      },\n                      scopedSlots: _vm._u(\n                        [\n                          {\n                            key: \"icon\",\n                            fn: function () {\n                              return [_c(\"ShareVariant\")]\n                            },\n                            proxy: true,\n                          },\n                        ],\n                        null,\n                        false,\n                        372598617\n                      ),\n                    }),\n                    _vm._v(\" \"),\n                    _c(\n                      \"Actions\",\n                      { attrs: { \"force-menu\": true } },\n                      [\n                        _c(\"ActionButton\", {\n                          attrs: {\n                            \"close-after-click\": true,\n                            title: _vm.t(\"photos\", \"Edit details\"),\n                          },\n                          on: {\n                            click: function ($event) {\n                              _vm.showEditAlbumForm = true\n                            },\n                          },\n                          scopedSlots: _vm._u(\n                            [\n                              {\n                                key: \"icon\",\n                                fn: function () {\n                                  return [_c(\"Pencil\")]\n                                },\n                                proxy: true,\n                              },\n                            ],\n                            null,\n                            false,\n                            514409694\n                          ),\n                        }),\n                        _vm._v(\" \"),\n                        _vm.selection.length === 0\n                          ? [\n                              _c(\n                                \"ActionButton\",\n                                {\n                                  attrs: {\n                                    \"close-after-click\": true,\n                                    \"aria-label\": _vm.t(\n                                      \"photos\",\n                                      \"Download selection\"\n                                    ),\n                                    title: _vm.t(\"photos\", \"Download\"),\n                                  },\n                                  on: { click: _vm.downloadSelection },\n                                },\n                                [\n                                  _c(\"DownloadOutline\", {\n                                    attrs: { slot: \"icon\" },\n                                    slot: \"icon\",\n                                  }),\n                                ],\n                                1\n                              ),\n                              _vm._v(\" \"),\n                              _vm.shouldFavoriteSelection\n                                ? _c(\n                                    \"ActionButton\",\n                                    {\n                                      attrs: {\n                                        \"close-after-click\": true,\n                                        \"aria-label\": _vm.t(\n                                          \"photos\",\n                                          \"Mark selection as favorite\"\n                                        ),\n                                        title: _vm.t(\"photos\", \"Favorite\"),\n                                      },\n                                      on: { click: _vm.favoriteSelection },\n                                    },\n                                    [\n                                      _c(\"Star\", {\n                                        attrs: { slot: \"icon\" },\n                                        slot: \"icon\",\n                                      }),\n                                    ],\n                                    1\n                                  )\n                                : _c(\n                                    \"ActionButton\",\n                                    {\n                                      attrs: {\n                                        \"close-after-click\": true,\n                                        \"aria-label\": _vm.t(\n                                          \"photos\",\n                                          \"Remove selection from favorites\"\n                                        ),\n                                        title: _vm.t(\n                                          \"photos\",\n                                          \"Remove from favorites\"\n                                        ),\n                                      },\n                                      on: { click: _vm.unFavoriteSelection },\n                                    },\n                                    [\n                                      _c(\"Star\", {\n                                        attrs: { slot: \"icon\" },\n                                        slot: \"icon\",\n                                      }),\n                                    ],\n                                    1\n                                  ),\n                              _vm._v(\" \"),\n                              _c(\"ActionButton\", {\n                                attrs: {\n                                  \"close-after-click\": true,\n                                  title: _vm.n(\n                                    \"photos\",\n                                    \"Remove file from album\",\n                                    \"Remove files from album\",\n                                    _vm.selection.length\n                                  ),\n                                },\n                                on: {\n                                  click: function ($event) {\n                                    return _vm.removeFilesFromAlbum(\n                                      _vm.selectedFileIds\n                                    )\n                                  },\n                                },\n                                scopedSlots: _vm._u(\n                                  [\n                                    {\n                                      key: \"icon\",\n                                      fn: function () {\n                                        return [_c(\"TrashCan\")]\n                                      },\n                                      proxy: true,\n                                    },\n                                  ],\n                                  null,\n                                  false,\n                                  2019846067\n                                ),\n                              }),\n                            ]\n                          : _vm._e(),\n                        _vm._v(\" \"),\n                        _c(\"ActionButton\", {\n                          attrs: {\n                            \"close-after-click\": true,\n                            title: _vm.t(\"photos\", \"Delete album\"),\n                          },\n                          on: { click: _vm.handleDeleteAlbum },\n                          scopedSlots: _vm._u(\n                            [\n                              {\n                                key: \"icon\",\n                                fn: function () {\n                                  return [_c(\"TrashCan\")]\n                                },\n                                proxy: true,\n                              },\n                            ],\n                            null,\n                            false,\n                            2019846067\n                          ),\n                        }),\n                      ],\n                      2\n                    ),\n                  ],\n                  1\n                )\n              : _vm._e(),\n          ]),\n          _vm._v(\" \"),\n          _vm.album !== undefined &&\n          _vm.album.size === 0 &&\n          !(_vm.loadingFiles || _vm.loadingAlbums)\n            ? _c(\n                \"div\",\n                { staticClass: \"album__empty\" },\n                [\n                  _c(\"EmptyContent\", {\n                    scopedSlots: _vm._u(\n                      [\n                        {\n                          key: \"icon\",\n                          fn: function () {\n                            return [_c(\"ImagePlus\")]\n                          },\n                          proxy: true,\n                        },\n                        {\n                          key: \"desc\",\n                          fn: function () {\n                            return [\n                              _vm._v(\n                                \"\\n\\t\\t\\t\\t\" +\n                                  _vm._s(\n                                    _vm.t(\n                                      \"photos\",\n                                      \"This album doesn't have any photos or videos yet!\"\n                                    )\n                                  ) +\n                                  \"\\n\\t\\t\\t\"\n                              ),\n                            ]\n                          },\n                          proxy: true,\n                        },\n                      ],\n                      null,\n                      false,\n                      589841004\n                    ),\n                  }),\n                  _vm._v(\" \"),\n                  _c(\n                    \"Button\",\n                    {\n                      staticClass: \"album__empty__button\",\n                      attrs: {\n                        type: \"primary\",\n                        \"aria-label\": _vm.t(\n                          \"photos\",\n                          \"Add photos to this album\"\n                        ),\n                      },\n                      on: {\n                        click: function ($event) {\n                          _vm.showAddPhotosModal = true\n                        },\n                      },\n                      scopedSlots: _vm._u(\n                        [\n                          {\n                            key: \"icon\",\n                            fn: function () {\n                              return [_c(\"Plus\")]\n                            },\n                            proxy: true,\n                          },\n                        ],\n                        null,\n                        false,\n                        1489515321\n                      ),\n                    },\n                    [\n                      _vm._v(\n                        \"\\n\\t\\t\\t\" + _vm._s(_vm.t(\"photos\", \"Add\")) + \"\\n\\t\\t\"\n                      ),\n                    ]\n                  ),\n                ],\n                1\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.album !== undefined\n            ? _c(\"FilesListViewer\", {\n                staticClass: \"album__photos\",\n                attrs: {\n                  \"use-window\": true,\n                  \"file-ids\": _vm.albumFileIds,\n                  loading: _vm.loadingFiles || _vm.loadingAlbums,\n                },\n                scopedSlots: _vm._u(\n                  [\n                    {\n                      key: \"default\",\n                      fn: function (ref) {\n                        var file = ref.file\n                        var height = ref.height\n                        var visibility = ref.visibility\n                        return _c(\"File\", {\n                          attrs: {\n                            item: _vm.files[file.id],\n                            \"allow-selection\": true,\n                            selected: _vm.selection[file.id] === true,\n                            visibility: visibility,\n                            semaphore: _vm.semaphore,\n                          },\n                          on: {\n                            click: _vm.openViewer,\n                            \"select-toggled\": _vm.onFileSelectToggle,\n                          },\n                        })\n                      },\n                    },\n                  ],\n                  null,\n                  false,\n                  1840423849\n                ),\n              })\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.showAddPhotosModal\n            ? _c(\n                \"Modal\",\n                {\n                  attrs: {\n                    size: \"large\",\n                    title: _vm.t(\"photos\", \"Add photos to the album\"),\n                  },\n                  on: {\n                    close: function ($event) {\n                      _vm.showAddPhotosModal = false\n                    },\n                  },\n                },\n                [\n                  _c(\"FilesPicker\", {\n                    attrs: { \"blacklist-ids\": _vm.albumFileIds },\n                    on: { \"files-picked\": _vm.handleFilesPicked },\n                  }),\n                ],\n                1\n              )\n            : _vm.showShareModal\n            ? _c(\n                \"Modal\",\n                {\n                  attrs: { title: _vm.t(\"photos\", \"Share the album\") },\n                  on: {\n                    close: function ($event) {\n                      _vm.showShareModal = false\n                    },\n                  },\n                },\n                [\n                  _c(\"ShareAlbumForm\", {\n                    on: {\n                      albumShared: function ($event) {\n                        _vm.showShareModal = false\n                      },\n                    },\n                  }),\n                ],\n                1\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.showEditAlbumForm\n            ? _c(\n                \"Modal\",\n                {\n                  attrs: { title: _vm.t(\"photos\", \"New album\") },\n                  on: {\n                    close: function ($event) {\n                      _vm.showEditAlbumForm = false\n                    },\n                  },\n                },\n                [\n                  _c(\"AlbumForm\", {\n                    attrs: { album: _vm.album },\n                    on: {\n                      done: function ($event) {\n                        _vm.showEditAlbumForm = false\n                      },\n                    },\n                  }),\n                ],\n                1\n              )\n            : _vm._e(),\n        ],\n        1\n      )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"names":[],"sourceRoot":""}