import{d as s}from"./vue.runtime.esm-C8-0a0Ou.chunk.mjs";import{A as l}from"./AbortControllerMixin-D4w_j-jP.chunk.mjs";import{f as n}from"./collectionFetcher-o8pWVjsB.chunk.mjs";import{Y as e,f as c}from"./index-_ht8pMWC.chunk.mjs";const g=s({name:"FetchCollectionsMixin",data(){return{errorFetchingCollections:null,loadingCollections:!1}},mixins:[l],methods:{async fetchCollections(t,r=[],i=e){if(this.loadingCollections)return[];try{this.loadingCollections=!0,this.errorFetchingCollections=null;const o=await n(t,{signal:this.abortController.signal},r,i);return this.$store.dispatch("addCollections",{collections:o}),o}catch(o){o.response?.status===404?this.errorFetchingCollections=404:this.errorFetchingCollections=o,c.error("Error fetching collections:",{error:o})}finally{this.loadingCollections=!1}return[]}}});export{g as F};
//# sourceMappingURL=FetchCollectionsMixin-BPQhBLxi.chunk.mjs.map
