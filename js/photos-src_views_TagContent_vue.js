(self.webpackChunkphotos=self.webpackChunkphotos||[]).push([["src_views_TagContent_vue"],{86228:(n,t,e)=>{"use strict";e.d(t,{Z:()=>s});var r=e(87537),i=e.n(r),o=e(23645),a=e.n(o)()(i());a.push([n.id,'.emptycontent{grid-column:1/-1;margin-top:20vh}.illustration{min-width:200px;max-width:15%;width:300px;margin:auto;margin-bottom:20px;position:relative}.illustration svg{width:100%;height:100%;max-height:40vh}.illustration [fill*="6c63ff"]{fill:var(--color-primary-element)}',"",{version:3,sources:["webpack://./src/components/EmptyContent.vue"],names:[],mappings:"AAmHA,cAEC,gBAAA,CACA,eAAA,CAGD,cACC,eAAA,CACA,aAAA,CACA,WAAA,CACA,WAAA,CACA,kBAAA,CACA,iBAAA,CAEA,kBACC,UAAA,CACA,WAAA,CACA,eAAA,CAID,+BACC,iCAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.emptycontent {\n\t// span all the available columns\n\tgrid-column: 1/-1;\n\tmargin-top: 20vh;\n}\n\n.illustration {\n\tmin-width: 200px;\n\tmax-width: 15%;\n\twidth: 300px;\n\tmargin: auto;\n\tmargin-bottom: 20px;\n\tposition: relative;\n\n\tsvg {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tmax-height: 40vh;\n\t}\n\n\t// change colour of illustration\n\t[fill*=\'6c63ff\'] {\n\t\tfill: var(--color-primary-element);\n\t}\n}\n'],sourceRoot:""}]);const s=a},28697:(n,t,e)=>{"use strict";e.d(t,{Z:()=>s});var r=e(87537),i=e.n(r),o=e(23645),a=e.n(o)()(i());a.push([n.id,".photos-navigation[data-v-715bf92e]{display:flex;height:44px;padding:0 40px;align-items:center;max-width:100%}.photos-navigation h2[data-v-715bf92e]{padding:0;margin:0}.heading-subline[data-v-715bf92e]{margin-left:85px;margin-top:-11px;color:var(--color-text-maxcontrast)}.tag__photos[data-v-715bf92e]{padding:0 64px}","",{version:3,sources:["webpack://./src/views/TagContent.vue"],names:[],mappings:"AAgMA,oCACC,YAAA,CACA,WAAA,CACA,cAAA,CACA,kBAAA,CACA,cAAA,CAEA,uCACC,SAAA,CACA,QAAA,CAIF,kCACC,gBAAA,CACA,gBAAA,CACA,mCAAA,CAGD,8BACC,cAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.photos-navigation {\n\tdisplay: flex;\n\theight: 44px;\n\tpadding: 0 40px;\n\talign-items: center;\n\tmax-width: 100%;\n\n\th2 {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t}\n}\n\n.heading-subline {\n\tmargin-left: 85px;\n\tmargin-top: -11px;\n\tcolor: var(--color-text-maxcontrast);\n}\n\n.tag__photos {\n\tpadding: 0 64px;\n}\n'],sourceRoot:""}]);const s=a},66533:(n,t,e)=>{"use strict";e.d(t,{Z:()=>w});var r=e(25108);function i(n,t,e,r,i,o,a){try{var s=n[o](a),l=s.value}catch(n){return void e(n)}s.done?t(l):Promise.resolve(l).then(r,i)}const o={name:"EmptyContent",props:{illustrationName:{type:String,default:""}},data:function(){return{illustration:""}},computed:{haveIllustration:function(){return""!==this.illustrationName},isLoaded:function(){return!this.haveIllustration||""!==this.illustration},isReady:function(){return!this.haveIllustration||this.haveIllustration&&this.isLoaded}},watch:{illustrationName:function(){this.getIllustration()}},beforeMount:function(){this.getIllustration()},methods:{getIllustration:function(){var n,t=this;return(n=regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.illustration="",""===t.illustrationName){n.next=12;break}return n.prev=2,n.next=5,e(57767)("./".concat(t.illustrationName,".svg"));case 5:i=n.sent,t.illustration=i.default,n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),r.error("Could not get the error illustration",n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})),function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function s(n){i(a,r,o,s,l,"next",n)}function l(n){i(a,r,o,s,l,"throw",n)}s(void 0)}))})()}}};var a=e(93379),s=e.n(a),l=e(7795),c=e.n(l),u=e(90569),p=e.n(u),g=e(3565),m=e.n(g),h=e(19216),A=e.n(h),f=e(44589),d=e.n(f),v=e(86228),C={};C.styleTagTransform=d(),C.setAttributes=m(),C.insert=p().bind(null,"head"),C.domAPI=c(),C.insertStyleElement=A();s()(v.Z,C);v.Z&&v.Z.locals&&v.Z.locals;const w=(0,e(51900).Z)(o,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return n.isReady?e("div",{staticClass:"emptycontent"},[n.haveIllustration?e("div",{staticClass:"illustration",domProps:{innerHTML:n._s(n.illustration)}}):e("div",{staticClass:"icon-error"}),n._v(" "),e("h2",[n._t("default")],2),n._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:n.$slots.desc,expression:"$slots.desc"}]},[n._t("desc")],2)]):n._e()}),[],!1,null,null,null).exports},6893:(n,t,e)=>{"use strict";e.r(t),e.d(t,{default:()=>L});var r=e(20629),i=e(66533),o=e(53932),a=e(42408),s=e(33476),l=e(32114),c=e(98171),u=e(79440),p=e.n(u),g=e(56286),m=e.n(g),h=e(76240),A=e(69363),f=e(25108);function d(n,t,e,r,i,o,a){try{var s=n[o](a),l=s.value}catch(n){return void e(n)}s.done?t(l):Promise.resolve(l).then(r,i)}function v(n){return function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function a(n){d(o,r,i,a,s,"next",n)}function s(n){d(o,r,i,a,s,"throw",n)}a(void 0)}))}}function C(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function w(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?C(Object(e),!0).forEach((function(t){_(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):C(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function _(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const b={name:"TagContent",components:{File:o.Z,FilesListViewer:a.Z,EmptyContent:i.Z,Actions:p(),ActionButton:m(),ArrowLeft:h.default},mixins:[s.isMobile,c.Z,A.Z],props:{path:{type:String,default:""}},data:function(){return{error:null,loading:!1,semaphore:new l.Z(30)}},computed:w(w({},(0,r.Se)(["files","tags","tagsNames"])),{},{tagId:function(){return this.$store.getters.tagId(this.path)},tag:function(){return this.tags[this.tagId]},fileIds:function(){return this.tag?this.tag.files:[]},isEmpty:function(){return 0===this.fileIds.length}}),watch:{path:function(){var n=this;return v(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.fetchContent();case 1:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){var n=this;return v(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.fetchContent();case 1:case"end":return t.stop()}}),t)})))()},methods:{fetchContent:function(){var n=this;return v(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(OCA.Viewer.close(),n.tags[n.tagId]){t.next=5;break}return n.loading=!0,t.next=5,n.$store.dispatch("fetchAllTags",{signal:n.abortController.signal});case 5:return n.error=null,t.prev=6,t.next=9,n.$store.dispatch("fetchTagFiles",{id:n.tagId,signal:n.abortController.signal});case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(6),f.error(t.t0),n.error=!0;case 15:return t.prev=15,n.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[6,11,15,18]])})))()},openViewer:function(n){var t=this,e=this.files[n];OCA.Viewer.open({path:e.filename,list:this.fileIds.map((function(n){return t.files[n]})),loadMore:e.loadMore?v(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.loadMore(!0);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))):function(){return[]},canLoop:e.canLoop})}}};var y=e(93379),x=e.n(y),T=e(7795),k=e.n(T),I=e(90569),O=e.n(I),W=e(3565),Z=e.n(W),E=e(19216),P=e.n(E),R=e(44589),j=e.n(R),B=e(28697),S={};S.styleTagTransform=j(),S.setAttributes=Z(),S.insert=O().bind(null,"head"),S.domAPI=k(),S.insertStyleElement=P();x()(B.Z,S);B.Z&&B.Z.locals&&B.Z.locals;const L=(0,e(51900).Z)(b,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return n.error?e("EmptyContent",[n._v("\n\t"+n._s(n.t("photos","An error occurred"))+"\n")]):n.loading?n._e():e("div",[e("div",{staticClass:"photos-navigation"},[e("Actions",{staticClass:"photos-navigation__back"},[e("ActionButton",{on:{click:function(t){return n.$router.push({name:"tags"})}},scopedSlots:n._u([{key:"icon",fn:function(){return[e("ArrowLeft")]},proxy:!0}])},[n._v("\n\t\t\t\t"+n._s(n.t("photos","Back to tags overview"))+"\n\t\t\t")])],1),n._v(" "),e("h2",{staticClass:"photos-navigation__title"},[n._v("\n\t\t\t"+n._s(n.path)+"\n\t\t")])],1),n._v(" "),e("div",{staticClass:"heading-subline"},[n._v("\n\t\t"+n._s(n.n("photos","%n photo","%n photos",n.tag.files.length))+"\n\t")]),n._v(" "),n.isEmpty?e("EmptyContent",{key:"emptycontent",attrs:{"illustration-name":"empty"},scopedSlots:n._u([{key:"desc",fn:function(){return[n._v("\n\t\t\t"+n._s(n.t("photos","Photos with tags will show up here"))+"\n\t\t")]},proxy:!0}],null,!1,4132175345)},[n._v("\n\t\t"+n._s(n.t("photos","No tags yet"))+"\n\t\t")]):n._e(),n._v(" "),e("FilesListViewer",{staticClass:"tag__photos",attrs:{"use-window":!0,"file-ids":n.fileIds,"base-height":n.isMobile?120:200,loading:n.loading},scopedSlots:n._u([{key:"default",fn:function(t){var r=t.file,i=t.visibility;return e("File",{attrs:{file:n.files[r.id],"allow-selection":!0,selected:!0===n.selection[r.id],visibility:i,semaphore:n.semaphore},on:{click:n.openViewer,"select-toggled":n.onFileSelectToggle}})}}])})],1)}),[],!1,null,"715bf92e",null).exports},57767:(n,t,e)=>{var r={"./empty.svg":[51612,"src_assets_Illustrations_empty_svg"],"./folder.svg":[80917,"src_assets_Illustrations_folder_svg"],"./images.svg":[39777,"src_assets_Illustrations_images_svg"]};function i(n){if(!e.o(r,n))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[n],i=t[0];return e.e(t[1]).then((()=>e.t(i,17)))}i.keys=()=>Object.keys(r),i.id=57767,n.exports=i}}]);
//# sourceMappingURL=photos-src_views_TagContent_vue.js.map?v=a38c6c36f5ced9595482