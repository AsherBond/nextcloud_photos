/*! For license information please see photos-src_mixins_AbortControllerMixin_js-src_mixins_FilesSelectionMixin_js-src_components_File_vue--80ca54.js.LICENSE.txt */
"use strict";(self.webpackChunkphotos=self.webpackChunkphotos||[]).push([["src_mixins_AbortControllerMixin_js-src_mixins_FilesSelectionMixin_js-src_components_File_vue--80ca54"],{69363:(n,t,e)=>{e.d(t,{Z:()=>i});const i={name:"AbortControllerMixin",data:function(){return{abortController:new AbortController}},beforeDestroy:function(){this.abortController.abort()},beforeRouteLeave:function(n,t,e){this.abortController.abort(),e()}}},98171:(n,t,e)=>{e.d(t,{Z:()=>i});const i={name:"FilesSelectionMixin",data:function(){return{selection:{}}},methods:{onFileSelectToggle:function(n){var t=n.id,e=n.value;this.$set(this.selection,t,e)},onUncheckFiles:function(n){var t=this;n.forEach((function(n){return t.$set(t.selection,n,!1)}))},resetSelection:function(){this.selection={}}},computed:{selectedFileIds:function(){var n=this;return Object.keys(this.selection).filter((function(t){return n.selection[t]}))}}}},84496:(n,t,e)=>{e.d(t,{Z:()=>s});var i=e(87537),o=e.n(i),r=e(23645),a=e.n(r)()(o());a.push([n.id,'.file-container[data-v-67e992e4]{background:var(--color-primary-light);position:relative;height:100%;width:100%;border:2px solid var(--color-main-background);box-sizing:border-box}.file-container.selected[data-v-67e992e4]::after,.file-container[data-v-67e992e4]:focus-within::after{position:absolute;top:0;left:0;z-index:2;width:100%;height:100%;content:"";outline:var(--color-primary) solid 4px;outline-offset:-4px;pointer-events:none}.file-container .file[data-v-67e992e4]{width:100%;height:100%;box-sizing:border-box;outline:none}.file-container .file__images[data-v-67e992e4]{display:contents}.file-container .file__images .video-icon[data-v-67e992e4]{position:absolute;top:0px;right:0px;width:100%;height:100%;z-index:1;opacity:.8}.file-container .file__images .video-icon[data-v-67e992e4]  .material-design-icon__svg{fill:var(--color-main-background)}.file-container .file__images img[data-v-67e992e4]{width:100%;height:100%;object-fit:cover;position:absolute;color:rgba(0,0,0,0)}.file-container .file__images .loading-overlay[data-v-67e992e4]{position:absolute;height:100%;width:100%;display:flex;align-content:center;align-items:center;justify-content:center}.file-container .file__images .loading-overlay svg[data-v-67e992e4]{width:70%;height:70%}.file-container .file__hidden-description[data-v-67e992e4]{position:absolute;left:-10000px;top:-10000px;width:1px;height:1px;overflow:hidden}.file-container .file__hidden-description.show[data-v-67e992e4]{position:initial;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.file-container:hover .selection-checkbox[data-v-67e992e4],.file-container.selected .selection-checkbox[data-v-67e992e4],.file-container:focus-within .selection-checkbox[data-v-67e992e4]{display:flex}.file-container:hover .favorite-state[data-v-67e992e4],.file-container.selected .favorite-state[data-v-67e992e4],.file-container:focus-within .favorite-state[data-v-67e992e4]{display:none}.file-container .selection-checkbox[data-v-67e992e4]{display:none;position:absolute;top:8px;right:min(22px,50% - 7px);z-index:1;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.file-container .selection-checkbox[data-v-67e992e4]  .checkbox-radio-switch__label{padding:10px;box-sizing:border-box}.file-container .selection-checkbox[data-v-67e992e4]  .checkbox-radio-switch__label::after{content:"";background:var(--color-primary-light);width:16px;height:16px;position:absolute;left:1px;z-index:-1}.file-container .selection-checkbox[data-v-67e992e4]  .checkbox-radio-switch__label .checkbox-radio-switch__icon{margin:0}.file-container .selection-checkbox .input-label[data-v-67e992e4]{position:fixed;z-index:-1;top:-5000px;left:-5000px}.file-container .favorite-state[data-v-67e992e4]{position:absolute;top:2px;right:min(2px,50% - 7px)}.file-container .favorite-state[data-v-67e992e4]  .material-design-icon__svg{fill:#fc0}.file-container .favorite-state[data-v-67e992e4]  .material-design-icon__svg path{stroke:var(--color-primary-light);stroke-width:1px}',"",{version:3,sources:["webpack://./src/components/File.vue"],names:[],mappings:"AAiOA,iCACC,qCAAA,CACA,iBAAA,CACA,WAAA,CACA,UAAA,CACA,6CAAA,CACA,qBAAA,CAIC,sGACC,iBAAA,CACA,KAAA,CACA,MAAA,CACA,SAAA,CACA,UAAA,CACA,WAAA,CACA,UAAA,CACA,sCAAA,CACA,mBAAA,CACA,mBAAA,CAIF,uCACC,UAAA,CACA,WAAA,CACA,qBAAA,CACA,YAAA,CAEA,+CACC,gBAAA,CAEA,2DACC,iBAAA,CACA,OAAA,CACA,SAAA,CACA,UAAA,CACA,WAAA,CACA,SAAA,CACA,UAAA,CAEA,uFACC,iCAAA,CAIF,mDACC,UAAA,CACA,WAAA,CACA,gBAAA,CACA,iBAAA,CACA,mBAAA,CAGD,gEACC,iBAAA,CACA,WAAA,CACA,UAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CACA,sBAAA,CAEA,oEACC,SAAA,CACA,UAAA,CAKH,2DACC,iBAAA,CACA,aAAA,CACA,YAAA,CACA,SAAA,CACA,UAAA,CACA,eAAA,CAEA,gEACC,gBAAA,CACA,yBAAA,CAAA,sBAAA,CAAA,iBAAA,CACA,0BAAA,CAAA,uBAAA,CAAA,kBAAA,CAOF,2LACC,YAAA,CAGD,+KACC,YAAA,CAIF,qDACC,YAAA,CACA,iBAAA,CACA,OAAA,CAEA,yBAAA,CACA,SAAA,CACA,yBAAA,CAAA,sBAAA,CAAA,iBAAA,CAGA,oFACC,YAAA,CACA,qBAAA,CAGA,2FACC,UAAA,CACA,qCAAA,CACA,UAAA,CACA,WAAA,CACA,iBAAA,CACA,QAAA,CACA,UAAA,CAGD,iHACC,QAAA,CAIF,kEACC,cAAA,CACA,UAAA,CACA,WAAA,CACA,YAAA,CAIF,iDACC,iBAAA,CACA,OAAA,CAEA,wBAAA,CAEA,6EACC,SAAA,CAEA,kFACC,iCAAA,CACA,gBAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.file-container {\n\tbackground: var(--color-primary-light);\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\tborder: 2px solid var(--color-main-background); // Use border so create a separation between images.\n\tbox-sizing: border-box;\n\n\t// Selection border.\n\t&.selected, &:focus-within {\n\t\t&::after {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tz-index: 2;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tcontent: \'\';\n\t\t\toutline: var(--color-primary) solid 4px;\n\t\t\toutline-offset: -4px;\n\t\t\tpointer-events: none;\n\t\t}\n\t}\n\n\t.file {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbox-sizing: border-box;\n\t\toutline: none; // Override global focus state.\n\n\t\t&__images {\n\t\t\tdisplay: contents;\n\n\t\t\t.video-icon {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0px;\n\t\t\t\tright: 0px;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tz-index: 1;\n\t\t\t\topacity: 0.8;\n\n\t\t\t\t::v-deep .material-design-icon__svg {\n\t\t\t\t\tfill: var(--color-main-background);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\timg {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tobject-fit: cover;\n\t\t\t\tposition: absolute;\n\t\t\t\tcolor: transparent; /// Hide alt=\'\' text when loading.\n\t\t\t}\n\n\t\t\t.loading-overlay {\n\t\t\t\tposition: absolute;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\n\t\t\t\tsvg {\n\t\t\t\t\twidth: 70%;\n\t\t\t\t\theight: 70%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&__hidden-description {\n\t\t\tposition: absolute;\n\t\t\tleft: -10000px;\n\t\t\ttop: -10000px;\n\t\t\twidth: 1px;\n\t\t\theight: 1px;\n\t\t\toverflow: hidden;\n\n\t\t\t&.show {\n\t\t\t\tposition: initial;\n\t\t\t\twidth: fit-content;\n\t\t\t\theight: fit-content;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Reveal checkbox on hover.\n\t&:hover, &.selected, &:focus-within {\n\t\t.selection-checkbox {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.favorite-state {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t.selection-checkbox {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\ttop: 8px;\n\t\t// Fancy calculation to render the checkbox in the middle of narrow images.\n\t\tright: min(22px, calc(50% - 7px));\n\t\tz-index: 1;\n\t\twidth: fit-content;\n\n\t\t// Make the checkbox background round on hover.\n\t\t::v-deep .checkbox-radio-switch__label {\n\t\t\tpadding: 10px;\n\t\t\tbox-sizing: border-box;\n\n\t\t\t// Add a background to the checkbox so we do not see the image through it.\n\t\t\t&::after {\n\t\t\t\tcontent: \'\';\n\t\t\t\tbackground: var(--color-primary-light);\n\t\t\t\twidth: 16px;\n\t\t\t\theight: 16px;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 1px;\n\t\t\t\tz-index: -1;\n\t\t\t}\n\n\t\t\t.checkbox-radio-switch__icon {\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t}\n\n\t\t.input-label {\n\t\t\tposition: fixed;\n\t\t\tz-index: -1;\n\t\t\ttop: -5000px;\n\t\t\tleft: -5000px;\n\t\t}\n\t}\n\n\t.favorite-state {\n\t\tposition: absolute;\n\t\ttop: 2px;\n\t\t// Fancy calculation to render the start in the middle of narrow images.\n\t\tright: min(2px, calc(50% - 7px));\n\n\t\t::v-deep .material-design-icon__svg {\n\t\t\tfill: #FC0;\n\n\t\t\tpath {\n\t\t\t\tstroke: var(--color-primary-light);\n\t\t\t\tstroke-width: 1px;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const s=a},6726:(n,t,e)=>{e.d(t,{Z:()=>s});var i=e(87537),o=e.n(i),r=e(23645),a=e.n(r)()(o());a.push([n.id,".files-list-viewer[data-v-5196d262]{height:100%;position:relative}.files-list-viewer[data-v-5196d262]  .empty-content__icon{width:200px;height:200px}.files-list-viewer[data-v-5196d262]  .empty-content__icon .empty-content-illustration svg{width:200px;height:200px}.files-list-viewer .tiled-row[data-v-5196d262]{display:flex}.files-list-viewer__section-header[data-v-5196d262]{position:-webkit-sticky;position:sticky;top:0;z-index:3;background:var(--color-main-background)}.files-list-viewer__loader[data-v-5196d262]{margin:50px 0}","",{version:3,sources:["webpack://./src/components/FilesListViewer.vue"],names:[],mappings:"AAiNA,oCACC,WAAA,CACA,iBAAA,CAEA,0DACC,WAAA,CACA,YAAA,CAEA,0FACC,WAAA,CACA,YAAA,CAIF,+CACC,YAAA,CAGD,oDACC,uBAAA,CAAA,eAAA,CACA,KAAA,CACA,SAAA,CACA,uCAAA,CAGD,4CACC,aAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.files-list-viewer {\n\theight: 100%;\n\tposition: relative;\n\n\t::v-deep .empty-content__icon {\n\t\twidth: 200px;\n\t\theight: 200px;\n\n\t\t.empty-content-illustration svg {\n\t\t\twidth: 200px;\n\t\t\theight: 200px;\n\t\t}\n\t}\n\n\t.tiled-row {\n\t\tdisplay: flex;\n\t}\n\n\t&__section-header {\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tz-index: 3;\n\t\tbackground: var(--color-main-background);\n\t}\n\n\t&__loader {\n\t\tmargin: 50px 0;\n\t}\n}\n'],sourceRoot:""}]);const s=a},78504:(n,t,e)=>{e.d(t,{Z:()=>s});var i=e(87537),o=e.n(i),r=e(23645),a=e.n(r)()(o());a.push([n.id,".loader{display:grid;height:60px}","",{version:3,sources:["webpack://./src/components/Loader.vue"],names:[],mappings:"AAsCA,QACC,YAAA,CACA,WAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.loader {\n\tdisplay: grid;\n\theight: 60px;\n}\n'],sourceRoot:""}]);const s=a},13319:(n,t,e)=>{e.d(t,{Z:()=>s});var i=e(87537),o=e.n(i),r=e(23645),a=e.n(r)()(o());a.push([n.id,".tiled-container[data-v-58b32a0e]{height:100%}.tiled-container .tiled-row[data-v-58b32a0e]{display:flex}","",{version:3,sources:["webpack://./src/components/TiledLayout.vue"],names:[],mappings:"AA8FA,kCACC,WAAA,CAEA,6CACC,YAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.tiled-container {\n\theight: 100%;\n\n\t.tiled-row {\n\t\tdisplay: flex;\n\t}\n}\n'],sourceRoot:""}]);const s=a},40321:(n,t,e)=>{e.d(t,{Z:()=>s});var i=e(87537),o=e.n(i),r=e(23645),a=e.n(r)()(o());a.push([n.id,".tiled-row[data-v-452165e4]{display:flex}","",{version:3,sources:["webpack://./src/components/TiledRows.vue"],names:[],mappings:"AAsCA,4BACC,YAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.tiled-row {\n\tdisplay: flex;\n}\n'],sourceRoot:""}]);const s=a},21238:(n,t,e)=>{e.d(t,{Z:()=>s});var i=e(87537),o=e.n(i),r=e(23645),a=e.n(r)()(o());a.push([n.id,".vs-container[data-v-5e8733b7]{overflow-y:scroll;height:100%}.vs-rows-container[data-v-5e8733b7]{box-sizing:border-box}","",{version:3,sources:["webpack://./src/components/VirtualScrolling.vue"],names:[],mappings:"AAkTA,+BACC,iBAAA,CACA,WAAA,CAGD,oCACC,qBAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.vs-container {\n\toverflow-y: scroll;\n\theight: 100%;\n}\n\n.vs-rows-container {\n\tbox-sizing: border-box;\n}\n'],sourceRoot:""}]);const s=a},53932:(n,e,i)=>{i.d(e,{Z:()=>S});var o=i(75760),r=i(16235),a=i(79753),s=i(45994),l=i(33476),c=i(81090),A=i(32114);function u(n,t,e,i,o,r,a){try{var s=n[r](a),l=s.value}catch(n){return void e(n)}s.done?t(l):Promise.resolve(l).then(i,o)}function d(n){return function(){var t=this,e=arguments;return new Promise((function(i,o){var r=n.apply(t,e);function a(n){u(r,i,o,a,s,"next",n)}function s(n){u(r,i,o,a,s,"throw",n)}a(void 0)}))}}const h={name:"File",components:{CheckboxRadioSwitch:l.CheckboxRadioSwitch,Star:o.default,VideoIcon:r.Z},mixins:[c.Z],inheritAttrs:!1,props:{file:{type:Object,required:!0},selected:{type:Boolean,required:!0},allowSelection:{type:Boolean,default:!0},visibility:{type:String,required:!0},semaphore:{type:A.Z,required:!0}},data:function(){return{loaded:!1,error:!1,canLoad:!1,semaphoreSymbol:null,isDestroyed:!1}},computed:{davPath:function(){return(0,a.generateRemoteUrl)("dav/files/".concat((0,s.ts)().uid))+this.file.filename},ariaDescription:function(){return"image-description-".concat(this.file.fileid)},ariaLabel:function(){return t("photos",'Open the full size "{name}" image',{name:this.file.basename})},isImage:function(){return this.file.mime.startsWith("image")},decodedEtag:function(){return this.file.etag.replace("&quot;","").replace("&quot;","")},srcVisible:function(){return this.getItemURL(512)},srcNear:function(){return this.getItemURL(64)}},mounted:function(){var n=this;setTimeout(d(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.semaphore.acquire((function(){switch(n.visibility){case"visible":return 1;case"near":return 2;default:return 3}}),n.file.fileid);case 2:n.semaphoreSymbol=t.sent,n.canLoad=!0,("none"===n.visibility||n.isDestroyed)&&n.releaseSemaphore();case 5:case"end":return t.stop()}}),t)}))),250)},beforeDestroy:function(){this.isDestroyed=!0,this.releaseSemaphore(),void 0!==this.$refs.imgNear&&(this.$refs.imgNear.src=""),void 0!==this.$refs.srcVisible&&(this.$refs.srcVisible.src="")},methods:{emitClick:function(){this.$emit("click",this.file.fileid)},onLoad:function(){this.loaded=!0,this.releaseSemaphore()},onError:function(){this.error=!0,this.releaseSemaphore()},onToggle:function(n){this.$emit("select-toggled",{id:this.file.fileid,value:n})},getItemURL:function(n){return(0,a.generateUrl)("/core/preview?fileId=".concat(this.file.fileid,"&c=").concat(this.decodedEtag,"&x=").concat(n,"&y=").concat(n,"&forceIcon=0&a=1"))},releaseSemaphore:function(){null!==this.semaphoreSymbol&&(this.semaphore.release(this.semaphoreSymbol),this.semaphoreSymbol=null)}}};var f=i(93379),p=i.n(f),m=i(7795),g=i.n(m),C=i(90569),v=i.n(C),b=i(3565),y=i.n(b),w=i(19216),x=i.n(w),_=i(44589),T=i.n(_),k=i(84496),W={};W.styleTagTransform=T(),W.setAttributes=y(),W.insert=v().bind(null,"head"),W.domAPI=g(),W.insertStyleElement=x();p()(k.Z,W);k.Z&&k.Z.locals&&k.Z.locals;const S=(0,i(51900).Z)(h,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"file-container",class:{selected:n.selected}},[e("a",{staticClass:"file",attrs:{href:n.davPath,"aria-label":n.ariaLabel},on:{click:function(t){return t.preventDefault(),n.emitClick.apply(null,arguments)}}},[e("div",{staticClass:"file__images"},[n.file.mime.includes("video")?e("VideoIcon",{staticClass:"video-icon",attrs:{size:64}}):n._e(),n._v(" "),"none"!==n.visibility&&n.canLoad&&!n.error?e("img",{key:n.file.basename+"-near",ref:"imgNear",attrs:{src:n.srcNear,alt:n.file.basename,"aria-describedby":n.ariaDescription},on:{load:n.onLoad,error:n.onError}}):n._e(),n._v(" "),"visible"===n.visibility&&n.canLoad&&!n.error?e("img",{key:n.file.basename+"-visible",ref:"imgVisible",attrs:{src:n.srcVisible,alt:n.file.basename,"aria-describedby":n.ariaDescription},on:{load:n.onLoad,error:n.onError}}):n._e()],1),n._v(" "),e("p",{staticClass:"file__hidden-description",class:{show:n.error},attrs:{id:n.ariaDescription}},[n._v(n._s(n.file.basename))])]),n._v(" "),n.allowSelection?e("CheckboxRadioSwitch",{staticClass:"selection-checkbox",attrs:{checked:n.selected},on:{"update:checked":n.onToggle}},[e("span",{staticClass:"input-label"},[n._v(n._s(n.t("photos","Select image {imageName}",{imageName:n.file.basename})))])]):n._e(),n._v(" "),1===n.file.favorite?e("Star",{staticClass:"favorite-state",attrs:{"aria-label":n.t("photos","The file is in the favorites")}}):n._e()],1)}),[],!1,null,"67e992e4",null).exports},42408:(n,t,e)=>{e.d(t,{Z:()=>Q});var i=e(20629),o=e(33476),r=e(59537);function a(n,t){return n.map((function(n){return t*n.ratio})).reduce((function(n,t){return n+t}))}function s(n,t,e,i){if(1===n.length&&n[0].sectionHeader)return n[0].height;var o=t/n.map((function(n){return n.ratio})).reduce((function(n,t){return n+t}));return 1===n.length&&n[0].width>t&&(o=t/n[0].ratio),e&&(o=Math.min(i+20,o)),o}var l=e(93379),c=e.n(l),A=e(7795),u=e.n(A),d=e(90569),h=e.n(d),f=e(3565),p=e.n(f),m=e(19216),g=e.n(m),C=e(44589),v=e.n(C),b=e(40321),y={};y.styleTagTransform=v(),y.setAttributes=p(),y.insert=h().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=g();c()(b.Z,y);b.Z&&b.Z.locals&&b.Z.locals;var w=e(51900);function x(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,t){if(!n)return;if("string"==typeof n)return _(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _(n,t)}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var i=0,o=function(){};return{s:o,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return a=n.done,n},e:function(n){s=!0,r=n},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw r}}}}function _(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}const T={name:"TiledLayout",components:{TiledRows:(0,w.Z)({},(function(n,t){var e=t._c;return e("ul",t._l(t.props.rows,(function(n){return e("div",{key:n.key,staticClass:"tiled-row",style:{height:n.height+"px"}},t._l(n.items,(function(i){return e("li",{key:i.id,style:{width:i.ratio?n.height*i.ratio+"px":"100%",height:n.height+"px"}},[t._t("default",null,{row:n,item:i})],2)})),0)})),0)}),[],!0,null,"452165e4",null).exports},props:{items:{type:Array,required:!0},baseHeight:{type:Number,default:200}},data:function(){return{containerWidth:0,resizeObserver:null}},computed:{rows:function(){return r.Z.debug("[TiledLayout] Computing rows",this.items),function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;if(0===t)return[];for(var i=[],o=0,r=0;r<n.length;){var l=[];do{l.push(n[r++])}while(r<n.length&&!n[r-1].sectionHeader&&!n[r].sectionHeader&&a([].concat(l,[n[r]]),e)<=t);i[o]={items:l,height:s(l,t,n.length===r||!0===n[r].sectionHeader,e),key:l.map((function(n){return n.id})).join("-")},o+=1}return i}(this.items,this.containerWidth,this.baseHeight)}},mounted:function(){var n=this;this.resizeObserver=new ResizeObserver((function(t){var e,i=x(t);try{for(i.s();!(e=i.n()).done;){var o=e.value,r=o.contentRect;o.target.classList.contains("tiled-container")&&(n.containerWidth=r.width)}}catch(n){i.e(n)}finally{i.f()}})),this.resizeObserver.observe(this.$refs.tiledLayoutContainer)},beforeDestroy:function(){this.resizeObserver.disconnect()}};var k=e(13319),W={};W.styleTagTransform=v(),W.setAttributes=p(),W.insert=h().bind(null,"head"),W.domAPI=u(),W.insertStyleElement=g();c()(k.Z,W);k.Z&&k.Z.locals&&k.Z.locals;const S=(0,w.Z)(T,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{ref:"tiledLayoutContainer",staticClass:"tiled-container"},[n._t("default",(function(){return[e("TiledRows",{attrs:{rows:n.rows}})]}),{rows:n.rows})],2)}),[],!1,null,"58b32a0e",null).exports;var O=e(20296);function E(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=j(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var i=0,o=function(){};return{s:o,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return a=n.done,n},e:function(n){s=!0,r=n},f:function(){try{a||null==e.return||e.return()}finally{if(s)throw r}}}}function B(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function z(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?B(Object(e),!0).forEach((function(t){I(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):B(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function I(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Z(n){return function(n){if(Array.isArray(n))return P(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||j(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(n,t){if(n){if("string"==typeof n)return P(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?P(n,t):void 0}}function P(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}const R={name:"VirtualScrolling",props:{rows:{type:Array,required:!0},containerElement:{type:HTMLElement,default:null},useWindow:{type:Boolean,default:!1},renderWindowRatio:{type:Number,default:4},willBeVisibleWindowRatio:{type:Number,default:4},visibleWindowRatio:{type:Number,default:0},bottomBufferRatio:{type:Number,default:5},scrollToKey:{type:String,default:""}},data:function(){return{scrollPosition:0,containerHeight:0,rowsContainerHeight:0,resizeObserver:null}},computed:{visibleRows:function(){r.Z.debug("[VirtualScrolling] Computing visible rows",this.rows);var n=this.scrollPosition,t=this.containerHeight,e=t*this.renderWindowRatio,i=t*this.willBeVisibleWindowRatio,o=t*this.visibleWindowRatio,a=0,s=0;return this.rows.reduce((function(r,l){if(a=s,s+=l.height,a<n-e||n+t+e<a)return r;var c="none";return n-i<a&&a<n+t+i&&(c="near",n-o<a&&a<n+t+o&&(c="visible"),n-o<s&&s<n+t+o&&(c="visible")),[].concat(Z(r),[z(z({},l),{},{visibility:c})])}),[])},rowsHeight:function(){return this.rows.map((function(n){return n.height})).reduce((function(n,t){return n+t}),0)+200},paddingTop:function(){var n=this;if(0===this.visibleRows.length)return 0;var t=this.rows.findIndex((function(t){return t.items===n.visibleRows[0].items}));return this.rows.map((function(n){return n.height})).slice(0,t).reduce((function(n,t){return n+t}),0)},rowsContainerStyle:function(){return{height:"".concat(this.rowsHeight,"px"),paddingTop:"".concat(this.paddingTop,"px")}},isNearBottom:function(){var n=this.containerHeight*this.bottomBufferRatio;return this.scrollPosition+this.containerHeight>=this.rowsHeight-n},container:function(){return r.Z.debug("[VirtualScrolling] Computing container"),null!==this.containerElement?this.containerElement:this.useWindow?window:this.$refs.container}},watch:{isNearBottom:function(n){n&&this.$emit("need-content")},rows:function(){this.isNearBottom&&this.$emit("need-content")},scrollToKey:function(n){var t,e=0,i=E(this.rows);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.key===n)return void this.$refs.container.scrollTo({top:e,behavior:"smooth"});e+=o.height}}catch(n){i.e(n)}finally{i.f()}}},mounted:function(){var n=this;this.resizeObserver=new ResizeObserver((function(t){var e,i=E(t);try{for(i.s();!(e=i.n()).done;){var o=e.value,r=o.contentRect;o.target.classList.contains("vs-container")&&(n.containerHeight=r.height),o.target.classList.contains("vs-rows-container")&&(n.rowsContainerHeight=r.height)}}catch(n){i.e(n)}finally{i.f()}})),this.useWindow?(window.addEventListener("resize",this.updateContainerSize),this.containerHeight=window.innerHeight):this.resizeObserver.observe(this.container),this.resizeObserver.observe(this.$refs.rowsContainer),this.container.addEventListener("scroll",this.updateScrollPosition)},beforeDestroy:function(){this.useWindow&&window.removeEventListener("resize",this.updateContainerSize),this.resizeObserver.disconnect(),this.container.removeEventListener("scroll",this.updateScrollPosition)},methods:{updateScrollPosition:(0,O.debounce)((function(){this.useWindow?this.scrollPosition=this.container.scrollY:this.scrollPosition=this.container.scrollTop}),200),updateContainerSize:function(){this.containerHeight=window.innerHeight}}};var L=e(21238),H={};H.styleTagTransform=v(),H.setAttributes=p(),H.insert=h().bind(null,"head"),H.domAPI=u(),H.insertStyleElement=g();c()(L.Z,H);L.Z&&L.Z.locals&&L.Z.locals;const D=(0,w.Z)(R,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return n.useWindow||null!==n.containerElement?e("div",{ref:"rowsContainer",staticClass:"vs-rows-container",style:n.rowsContainerStyle},[n._t("default",null,{renderedRows:n.visibleRows}),n._v(" "),n._t("loader")],2):e("div",{ref:"container",staticClass:"vs-container"},[e("div",{ref:"rowsContainer",staticClass:"vs-rows-container",style:n.rowsContainerStyle},[n._t("default",null,{renderedRows:n.visibleRows}),n._v(" "),n._t("loader")],2)])}),[],!1,null,"5e8733b7",null).exports;var F=e(8702),$=e(51612);function U(n){return function(n){if(Array.isArray(n))return M(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(!n)return;if("string"==typeof n)return M(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return M(n,t)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function N(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,i)}return e}function q(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?N(Object(e),!0).forEach((function(t){V(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):N(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function V(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const Y={name:"FilesListViewer",components:{EmptyContent:o.EmptyContent,TiledLayout:S,VirtualScrolling:D,Loader:F.Z},props:{fileIds:{type:Array,default:void 0},fileIdsBySection:{type:Object,default:void 0},sections:{type:Array,default:void 0},loading:{type:Boolean,required:!0},emptyMessage:{type:String,default:""},baseHeight:{type:Number,default:200},sectionHeaderHeight:{type:Number,default:75},scrollToSection:{type:String,default:""},containerElement:{type:HTMLElement,default:null},useWindow:{type:Boolean,default:!1}},data:function(){return{EmptyBox:$}},computed:q(q({},(0,i.Se)(["files"])),{},{fileIdsToItems:function(){return void 0===this.fileIds?[]:this.fileIds.map(this.mapFileToItem)},sectionsToItems:function(){var n=this;return void 0===this.sections?[]:this.sections.flatMap((function(t){return[{id:t,sectionHeader:!0,height:n.sectionHeaderHeight}].concat(U(n.fileIdsBySection[t].map(n.mapFileToItem)))}))},items:function(){return void 0!==this.fileIds?this.fileIdsToItems:void 0!==this.sections?this.sectionsToItems:[]}}),methods:{needContent:function(){this.$emit("need-content")},mapFileToItem:function(n){var t=this.files[n];return{id:t.fileid,width:t.fileMetadataSizeParsed.width,height:t.fileMetadataSizeParsed.height,ratio:t.fileMetadataSizeParsed.width/t.fileMetadataSizeParsed.height}}}};var G=e(6726),K={};K.styleTagTransform=v(),K.setAttributes=p(),K.insert=h().bind(null,"head"),K.domAPI=u(),K.insertStyleElement=g();c()(G.Z,K);G.Z&&G.Z.locals&&G.Z.locals;const Q=(0,w.Z)(Y,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"files-list-viewer"},[""===n.emptyMessage||0!==n.items.length||n.loading?n._e():e("EmptyContent",{key:"emptycontent",scopedSlots:n._u([{key:"icon",fn:function(){return[e("span",{staticClass:"empty-content-illustration",domProps:{innerHTML:n._s(n.EmptyBox)}})]},proxy:!0}],null,!1,3410044941)},[n._v("\n\t\t"+n._s(n.emptyMessage)+"\n\t")]),n._v(" "),e("TiledLayout",{attrs:{"base-height":n.baseHeight,items:n.items},scopedSlots:n._u([{key:"default",fn:function(t){var i=t.rows;return e("VirtualScrolling",{attrs:{"use-window":n.useWindow,rows:i,"scroll-to-key":n.scrollToSection},on:{"need-content":n.needContent},scopedSlots:n._u([{key:"default",fn:function(t){var i=t.renderedRows;return e("ul",{},n._l(i,(function(t){return e("div",{key:t.key,staticClass:"tiled-row",class:{"files-list-viewer__section-header":t.items[0].sectionHeader},style:{height:t.height+"px"}},n._l(t.items,(function(i){return e("li",{key:i.id,style:{width:i.ratio?t.height*i.ratio+"px":"100%",height:t.height+"px"}},[n._t("default",null,{file:i,visibility:t.visibility})],2)})),0)})),0)}},n.loading?{key:"loader",fn:function(){return[e("Loader",{staticClass:"files-list-viewer__loader"})]},proxy:!0}:null],null,!0)})}}])})],1)}),[],!1,null,"5196d262",null).exports},8702:(n,t,e)=>{e.d(t,{Z:()=>C});const i={name:"Loader"};var o=e(93379),r=e.n(o),a=e(7795),s=e.n(a),l=e(90569),c=e.n(l),A=e(3565),u=e.n(A),d=e(19216),h=e.n(d),f=e(44589),p=e.n(f),m=e(78504),g={};g.styleTagTransform=p(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=h();r()(m.Z,g);m.Z&&m.Z.locals&&m.Z.locals;const C=(0,e(51900).Z)(i,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"loader"},[n._t("icon",(function(){return[e("span",{staticClass:"icon-loading"})]}))],2)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=photos-src_mixins_AbortControllerMixin_js-src_mixins_FilesSelectionMixin_js-src_components_File_vue--80ca54.js.map?v=cf1d78d760951221c4f1