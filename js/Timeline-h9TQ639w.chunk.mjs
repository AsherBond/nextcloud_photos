import{l as x,P as y,n as r,o as S,p as O,k as $,q as I,i as B,r as D,s as L,D as M}from"./icons-DIHlkdtB.chunk.mjs";import{n as g,K as T,A,o as P,e as F,L as U,M as H,I as Y,O as V,C as z,q as j,B as E,w as R,J as f,Q as b}from"./index-DIiXP5_n.chunk.mjs";import{c as q,d,a as K,t as m,g as _,_ as h,q as c,j as C,w as u,u as Q,s as J}from"./vue.runtime.esm-CWuAmtQL.chunk.mjs";import{N as G}from"./NcEmptyContent-xZDCS98c.chunk.mjs";import{i as W}from"./isMobile-ByrFRyOs.chunk.mjs";import{m as v}from"./index-C-mleKoq.chunk.mjs";import{F as X}from"./FetchFilesMixin-CKufvgaL.chunk.mjs";import{F as Z}from"./FilesByMonthMixin-BuOw3Oo-.chunk.mjs";import{F as ee,a as te}from"./FilesListViewer-CpD9Ni6h.chunk.mjs";import{F as se}from"./File-CwswEPlE.chunk.mjs";import{A as w}from"./AlbumForm-D460hryB.chunk.mjs";import{N as ie}from"./NcUserBubble-W_wjP2lY-CpHpuwWa.chunk.mjs";import{F as oe}from"./FetchCollectionsMixin-5JjraiDT.chunk.mjs";import{A as ae}from"./ActionFavorite-C9pj4L3H.chunk.mjs";import{H as le}from"./HeaderNavigation-D4M3hIlm.chunk.mjs";import{a as ne}from"./PhotosSourceLocationsSettings-Dtci4Wqb.chunk.mjs";import{f as re}from"./collectionFetcher-BPoom1qd.chunk.mjs";import"./PhotoSearch-9Or0qao8.chunk.mjs";import"./AbortControllerMixin-CQgfjju6.chunk.mjs";import"./fileFetcher-CEHK_PZO.chunk.mjs";import"./index-x9vhq81Z.chunk.mjs";import"./FetchCollectionContentMixin-YuS4Y233.chunk.mjs";import"./index-CiyN52Yl.chunk.mjs";import"./preload-helper-Dh9HmuEY.chunk.mjs";import"./index-xqqE2vad.chunk.mjs";const ce={name:"NcCounterBubble",props:{type:{type:String,default:"",validator(e){return["highlighted","outlined",""].includes(e)}},active:{type:Boolean,default:!1},count:{type:Number,required:!1,default:void 0},raw:{type:Boolean,required:!1,default:!1}},computed:{counterClassObject(){return{"counter-bubble__counter--highlighted":this.type==="highlighted","counter-bubble__counter--outlined":this.type==="outlined",active:this.active}},humanizedCount(){return this.humanizeCount(this.count)}},methods:{humanizeCount(e){return this.raw?e.toString():new Intl.NumberFormat(q(),{notation:"compact",compactDisplay:"short"}).format(e)},getHumanizedCount(){if(this.count!==void 0)return{humanized:this.humanizedCount,original:this.count.toString()};if(!this.raw&&this.$slots.default?.length===1){const e=this.$slots.default[0].text?.trim();if(e&&/^\d+$/.test(e)){const t=parseInt(e,10);return{humanized:this.humanizeCount(t),original:e}}}}},render(e){const t=this.getHumanizedCount();return e("div",{staticClass:"counter-bubble__counter",class:this.counterClassObject,attrs:{title:t&&t.original!==t.humanized?t.original:void 0}},[t?.humanized??this.$slots.default])}},ue=null,de=null;var me=g(ce,ue,de,!1,null,"f1abaa29");const pe=me.exports,he={name:"NcListItem",components:{NcActions:A,NcCounterBubble:pe,NcVNodes:T},props:{details:{type:String,default:""},name:{type:String,default:void 0},exact:{type:Boolean,default:!1},to:{type:[String,Object],default:null},href:{type:String,default:"#"},target:{type:String,default:""},anchorId:{type:String,default:""},bold:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},active:{type:Boolean,default:!1},linkAriaLabel:{type:String,default:""},actionsAriaLabel:{type:String,default:void 0},counterNumber:{type:[Number,String],default:0},counterType:{type:String,default:"",validator(e){return["highlighted","outlined",""].indexOf(e)!==-1}},forceDisplayActions:{type:Boolean,default:!1},forceMenu:{type:Boolean,default:!1},oneLine:{type:Boolean,default:!1}},emits:["click","update:menuOpen"],setup(){const[e]=window._oc_config?.version.split(".",2)??[];return{isLegacy:e&&Number.parseInt(e)<30}},data(){return{hovered:!1,hasActions:!1,hasSubname:!1,displayActionsOnHoverFocus:!1,menuOpen:!1,hasIndicator:!1,hasDetails:!1}},computed:{showAdditionalElements(){return!this.displayActionsOnHoverFocus||this.forceDisplayActions},showDetails(){return(this.details!==""||this.hasDetails)&&(!this.displayActionsOnHoverFocus||this.forceDisplayActions)}},watch:{menuOpen(e){!e&&!this.hovered&&(this.displayActionsOnHoverFocus=!1)}},mounted(){this.checkSlots()},updated(){this.checkSlots()},methods:{onClick(e,t,s){this.$emit("click",e),!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&s&&(t?.(e),e.preventDefault())},showActions(){this.hasActions&&(this.displayActionsOnHoverFocus=!0),this.hovered=!1},hideActions(){this.displayActionsOnHoverFocus=!1},handleBlur(e){this.menuOpen||this.$refs["list-item"].contains(e.relatedTarget)||this.hideActions()},handleMouseleave(){this.menuOpen||(this.displayActionsOnHoverFocus=!1),this.hovered=!1},handleMouseover(){this.showActions(),this.hovered=!0},handleActionsUpdateOpen(e){this.menuOpen=e,this.$emit("update:menuOpen",e)},checkSlots(){this.hasActions!==!!this.$slots.actions&&(this.hasActions=!!this.$slots.actions),this.hasSubname!==!!this.$slots.subname&&(this.hasSubname=!!this.$slots.subname),this.hasIndicator!==!!this.$slots.indicator&&(this.hasIndicator=!!this.$slots.indicator),this.hasDetails!==!!this.$slots.details&&(this.hasDetails=!!this.$slots.details)}}};var fe=function(){var e=this,t=e._self._c;return t(e.to?"router-link":"NcVNodes",{tag:"component",attrs:{custom:e.to?!0:null,to:e.to,exact:e.to?e.exact:null},scopedSlots:e._u([{key:"default",fn:function({href:s,navigate:i,isActive:o}){return[t("li",{staticClass:"list-item__wrapper",class:{"list-item__wrapper--active":o||e.active}},[t("div",{ref:"list-item",staticClass:"list-item",class:{"list-item--compact":e.compact,"list-item--legacy":e.isLegacy,"list-item--one-line":e.oneLine},on:{mouseover:e.handleMouseover,mouseleave:e.handleMouseleave}},[t("a",{staticClass:"list-item__anchor",attrs:{id:e.anchorId||void 0,"aria-label":e.linkAriaLabel,href:s||e.href,target:e.target||(e.href==="#"?void 0:"_blank"),rel:e.href==="#"?void 0:"noopener noreferrer"},on:{focus:e.showActions,focusout:e.handleBlur,click:function(a){return e.onClick(a,i,s)},keydown:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"esc",27,a.key,["Esc","Escape"])?null:e.hideActions.apply(null,arguments)}}},[e._t("icon"),t("div",{staticClass:"list-item-content"},[t("div",{staticClass:"list-item-content__main"},[t("div",{staticClass:"list-item-content__name"},[e._t("name",function(){return[e._v(e._s(e.name))]})],2),e.hasSubname?t("div",{staticClass:"list-item-content__subname",class:{"list-item-content__subname--bold":e.bold}},[e._t("subname")],2):e._e()]),t("div",{staticClass:"list-item-content__details"},[e.showDetails?t("div",{staticClass:"list-item-details__details"},[e._t("details",function(){return[e._v(e._s(e.details))]})],2):e._e(),e.counterNumber||e.hasIndicator?t("div",{directives:[{name:"show",rawName:"v-show",value:e.showAdditionalElements,expression:"showAdditionalElements"}],staticClass:"list-item-details__extra"},[e.counterNumber?t("NcCounterBubble",{staticClass:"list-item-details__counter",attrs:{active:o||e.active,type:e.counterType}},[e._v(" "+e._s(e.counterNumber)+" ")]):e._e(),e.hasIndicator?t("span",{staticClass:"list-item-details__indicator"},[e._t("indicator")],2):e._e()],1):e._e()])])],2),e.$slots["extra-actions"]?t("div",{staticClass:"list-item-content__extra-actions"},[e._t("extra-actions")],2):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.forceDisplayActions||e.displayActionsOnHoverFocus,expression:"forceDisplayActions || displayActionsOnHoverFocus"}],staticClass:"list-item-content__actions",on:{focusout:e.handleBlur}},[t("NcActions",{ref:"actions",attrs:{primary:o||e.active,"force-menu":e.forceMenu,"aria-label":e.actionsAriaLabel},on:{"update:open":e.handleActionsUpdateOpen},scopedSlots:e._u([e.$slots["actions-icon"]?{key:"icon",fn:function(){return[e._t("actions-icon")]},proxy:!0}:null],null,!0)},[e._t("actions")],2)],1),e.$slots.extra?t("div",{staticClass:"list-item__extra"},[e._t("extra")],2):e._e()])])]}}],null,!0)})},be=[],_e=g(he,fe,be,!1,null,"40599719");const ve=_e.exports,ye=d({name:"AlbumPicker",components:{Plus:y,ImageMultiple:x,NcButton:F,NcListItem:ve,NcLoadingIcon:P,NcUserBubble:ie,AlbumForm:w},filters:{toCoverUrl(e){return h(`/apps/photos/api/v1/preview/${e}?x=64&y=64`)}},mixins:[oe],data(){return{showAlbumCreationForm:!1}},computed:{albums(){return this.$store.getters.albums},sharedAlbums(){return this.$store.getters.sharedAlbums},allAlbums(){return[...Object.values(this.albums),...Object.values(this.sharedAlbums)]}},mounted(){this.fetchAlbumList()},methods:{async fetchAlbumList(){await this.fetchCollections(`/photos/${_()?.uid}/albums`,["<nc:location />","<nc:dateRange />","<nc:collaborators />"]),await this.fetchCollections(`/photos/${_()?.uid}/sharedalbums`,["<nc:location />","<nc:dateRange />","<nc:collaborators />"])},albumCreatedHandler(){this.showAlbumCreationForm=!1,this.fetchAlbumList()},pickAlbum(e){this.$emit("album-picked",e)},isSharedAlbum(e){return e.path.match(/^\/photos\/.+\/sharedalbums\//)!==null},originalName(e){return this.isSharedAlbum(e)?e.basename.replace(new RegExp(`\\(${e.attributes.collaborators[0].id}\\)$`),""):e.basename},t:m,n:K}});var ge=function(){var e=this,t=e._self._c;return e._self._setupProxy,e.showAlbumCreationForm?t("AlbumForm",{attrs:{"display-back-button":!0,title:e.t("photos","New album")},on:{back:function(s){e.showAlbumCreationForm=!1},done:e.albumCreatedHandler}}):t("div",{staticClass:"album-picker"},[t("h2",[e._v(" "+e._s(e.t("photos","Add to Album"))+" "),e.loadingCollections?t("NcLoadingIcon",{staticClass:"loading-icon"}):e._e()],1),t("ul",{staticClass:"albums-container"},e._l(e.allAlbums,function(s){return t("NcListItem",{key:s.attributes.filename,staticClass:"album",attrs:{name:e.originalName(s),"aria-label":e.t("photos","Add selection to album {albumName}",{albumName:s.basename})},on:{click:function(i){return e.pickAlbum(s)}},scopedSlots:e._u([{key:"subname",fn:function(){return[e._v(" "+e._s(e.n("photos","%n item","%n photos and videos",s.attributes.nbItems))+" "),e.isSharedAlbum(s)?[e._v(" ⸱ "+e._s(e.t("photos","Shared by"))+" "),t("NcUserBubble",{attrs:{"display-name":s.attributes.collaborators[0].label,user:s.attributes.collaborators[0].id}})]:e._e()]},proxy:!0}],null,!0)},[t("template",{slot:"icon"},[s.attributes["last-photo"]!==-1?t("img",{staticClass:"album__image",attrs:{src:e._f("toCoverUrl")(s.attributes["last-photo"])}}):t("div",{staticClass:"album__image album__image--placeholder"},[t("ImageMultiple",{attrs:{size:32}})],1)])],2)}),1),t("NcButton",{staticClass:"new-album-button",attrs:{"aria-label":e.t("photos","Create a new album."),type:"tertiary"},on:{click:function(s){e.showAlbumCreationForm=!0}},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Plus")]},proxy:!0}],null,!1,1489515321)},[e._v(" "+e._s(e.t("photos","Create new album"))+" ")])],1)},Ae=[],Fe=r(ye,ge,Ae,!1,null,"a54712c8");const Ce=Fe.exports,we={name:"ActionDownload",components:{NcActionLink:U},props:{title:{type:String,required:!0},selectedFileIds:{type:Array,required:!0}},computed:{files(){return this.$store.state.files.files},downloadUrl(){const e=new URLSearchParams;return e.append("files",JSON.stringify(this.paths)),h(`/apps/files/ajax/download.php?${e}`)},paths(){return this.selectedFileIds.map(e=>this.files[e].path)}}};var ke=function(){var e=this,t=e._self._c;return t("NcActionLink",{attrs:{"close-after-click":!0,href:e.downloadUrl,download:e.downloadUrl,"aria-label":e.title}},[e._v(" "+e._s(e.title)+" "),e._t("icon",null,{slot:"icon"})],2)},Ne=[],xe=r(we,ke,Ne,!1,null,null);const Se=xe.exports,Oe=d({__name:"DateRangeFilter",props:{value:null},emits:["input"],setup(e,{emit:t}){const s=e,i=c([null,null]),o=C(()=>{if(!(i.value[0]===null||i.value[1]===null))return{start:i.value[0].getTime(),end:i.value[1].getTime()}});return u(()=>s.value,a=>{a===void 0?i.value=[null,null]:a!==o.value&&(i.value=[new Date(a.start),new Date(a.end)])}),u(o,a=>t("input",a)),{__sfc:!0,props:s,emit:t,dateRange:i,selectedDateRange:o,t:m,NcDateTimePicker:H}}});var $e=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.NcDateTimePicker,{attrs:{clearable:!0,type:"date-range",placeholder:s.t("photos","Select a date range")},scopedSlots:e._u([{key:"default",fn:function(){return[e._v(" "+e._s(s.t("photos","Date range"))+" ")]},proxy:!0}]),model:{value:s.dateRange,callback:function(i){s.dateRange=i},expression:"dateRange"}})},Ie=[],Be=r(Oe,$e,Ie,!1,null,null);const De=Be.exports,Le="date-range",Me={id:Le,component:De,getQuery(e){return e===void 0?"":`
			<d:and>
				<d:gt>
					<d:prop><nc:metadata-photos-original_date_time/></d:prop>
					<d:literal>${e.start/1e3}</d:literal>
				</d:gt>
				<d:lt>
					<d:prop><nc:metadata-photos-original_date_time/></d:prop>
					<d:literal>${e.end/1e3+24*60*60}</d:literal>
				</d:lt>
			</d:and>`}},Te=d({__name:"PlacesFilter",props:{value:null},emits:["input"],setup(e,{emit:t}){const s=e,i=c(!0),o=c([]),a=c([]);re(Y).then(l=>{o.value=l.map(n=>({label:n.basename,previewUrl:h(`/apps/photos/api/v1/preview/${n.attributes["last-photo"]}?x=64&y=64`)})),i.value=!1}),u(()=>s.value,l=>{l===void 0?a.value=[]:l!==p.value&&(a.value=l.map(n=>o.value.find(N=>N.label===n)).filter(n=>n!==void 0))});const p=C(()=>a.value.map(l=>l.label));return u(p,l=>t("input",l)),{__sfc:!0,props:s,emit:t,loading:i,availableOptions:o,selectedOptions:a,selectedPlaces:p,NcSelect:z,NcListItemIcon:V,t:m}}});var Pe=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.NcSelect,{staticClass:"places-select",attrs:{options:s.availableOptions,"aria-label-combobox":s.t("photos","Select places"),placeholder:s.t("photos","Select places"),loading:s.loading,multiple:!0},scopedSlots:e._u([{key:"option",fn:function(i){return[t(s.NcListItemIcon,{attrs:{name:i.label,"is-no-user":!0,url:i.previewUrl}})]}}]),model:{value:s.selectedOptions,callback:function(i){s.selectedOptions=i},expression:"selectedOptions"}})},Ue=[],He=r(Te,Pe,Ue,!1,null,"2119ac98");const Ye=He.exports,Ve="places",ze={id:Ve,component:Ye,getQuery(e){return e===void 0?"":`<d:or>${e.map(t=>`
			<d:eq>
				<d:prop><nc:metadata-photos-place/></d:prop>
				<d:literal>${t}</d:literal>
			</d:eq>
		`).join("")}</d:or>`}},k=[Me,ze],je=d({__name:"TimelineFilters",props:{value:null},emits:["input"],setup(e,{emit:t}){const s=e,i=c({});return u(()=>s.value,o=>{i.value=o},{deep:!0,immediate:!0}),{__sfc:!0,props:s,emit:t,innerValue:i,filters:k}}});var Ee=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"timeline-filters"},e._l(s.filters,function(i){return t(i.component,{key:i.id,tag:"component",attrs:{"data-cy-timeline-filters":i.id},on:{input:function(o){return s.emit("input",s.innerValue)}},model:{value:s.innerValue[i.id],callback:function(o){e.$set(s.innerValue,i.id,o)},expression:"innerValue[filter.id]"}})}),1)},Re=[],qe=r(je,Ee,Re,!1,null,"a9d92629");const Ke=qe.exports,Qe={name:"Timeline",components:{Delete:M,PlusBoxMultiple:L,Download:D,Close:B,Plus:y,FolderAlertOutline:I,NcEmptyContent:G,NcModal:R,NcActions:A,NcActionButton:E,NcButton:F,AlbumForm:w,AlbumPicker:Ce,FilesListViewer:te,File:se,ActionFavorite:ae,ActionDownload:Se,HeaderNavigation:le,PhotosSourceLocationsSettings:ne,AlertCircle:$,TimelineFilters:Ke,FilterIcon:O,FilterOff:S},filters:{dateMonth(e){return v(e,"YYYYMM").format("MMMM")},dateYear(e){return v(e,"YYYYMM").format("YYYY")}},mixins:[X,ee,Z,W],beforeRouteLeave(e,t,s){window.scrollTo(0,0),s()},props:{onlyFavorites:{type:Boolean,default:!1},mimesType:{type:Array,default:()=>j},onThisDay:{type:Boolean,default:!1},rootTitle:{type:String,required:!0}},data(){return{loadingCount:0,showAlbumCreationForm:!1,showAlbumPicker:!1,appContent:document.getElementById("app-content-vue"),showFilters:!1,extraFilters:{}}},computed:{files(){return this.$store.state.files.files}},watch:{"$route.path"(){this.extraFilters={}}},mounted(){J(b,this.handleUserConfigChange)},destroyed(){Q(b,this.handleUserConfigChange)},methods:{getContent(){this.fetchFiles({mimesType:this.mimesType,onThisDay:this.onThisDay,onlyFavorites:this.onlyFavorites,extraFilters:Object.entries(this.extraFilters).map(([e,t])=>k.find(s=>s.id===e)?.getQuery(t)).join(`
`)})},openViewer(e){window.OCA.Viewer.open({fileInfo:f(this.files[e]),list:Object.values(this.fileIdsByMonth).flat().map(t=>f(this.files[t]))})},openUploader(){},async addSelectionToAlbum(e){this.showAlbumPicker=!1,await this.$store.dispatch("addFilesToCollection",{collectionFileName:e.root+e.path,fileIdsToAdd:this.selectedFileIds})},async deleteSelection(){const e=this.selectedFileIds;this.onUncheckFiles(e),this.fetchedFileIds=this.fetchedFileIds.filter(t=>!e.includes(t)),await this.$store.dispatch("deleteFiles",e)},handleUserConfigChange({key:e}){e==="photosSourceFolders"&&this.resetFetchFilesState()},toggleFilters(){this.showFilters=!this.showFilters,this.showFilters||(this.extraFilters={},this.resetFetchFilesState())},handleFiltersChange(){this.resetFetchFilesState(),this.getContent()},t:m}};var Je=function(){var e=this,t=e._self._c;return e.errorFetchingFiles?t("div",{staticClass:"timeline__empty-content"},[e.errorFetchingFiles===404?t("NcEmptyContent",{attrs:{name:e.t("photos","One of the source folders does not exist")}},[t("FolderAlertOutline",{attrs:{slot:"icon"},slot:"icon"}),t("PhotosSourceLocationsSettings",{staticClass:"timeline__update_source_directory",attrs:{slot:"action"},slot:"action"})],1):t("NcEmptyContent",{attrs:{name:e.t("photos","An error occurred")}},[t("AlertCircle",{attrs:{slot:"icon"},slot:"icon"})],1)],1):t("div",{staticClass:"timeline"},[t("HeaderNavigation",{key:"navigation",attrs:{loading:e.loadingCount>0,path:"/",title:e.rootTitle,"root-title":e.rootTitle},on:{refresh:e.resetFetchFilesState}},[t("div",{staticClass:"timeline__header__left"},[e.selectedFileIds.length===0?t("NcButton",{ref:"newAlbumButton",attrs:{"aria-label":e.t("photos","Create new album")},on:{click:function(s){e.showAlbumCreationForm=!0}},scopedSlots:e._u([{key:"icon",fn:function(){return[t("PlusBoxMultiple")]},proxy:!0}],null,!1,2640725948)},[e._v(" "+e._s(e.t("photos","Create new album"))+" ")]):[t("NcButton",{attrs:{"close-after-click":!0,type:"primary","aria-label":e.t("photos","Add to album")},on:{click:function(s){e.showAlbumPicker=!0}},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Plus")]},proxy:!0},e.isMobile?null:{key:"default",fn:function(){return[e._v(" "+e._s(e.t("photos","Add to album"))+" ")]},proxy:!0}],null,!0)}),e.selectedFileIds.length>0?t("NcButton",{attrs:{"aria-label":e.t("photos","Unselect all")},on:{click:e.resetSelection},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Close")]},proxy:!0},e.isMobile?null:{key:"default",fn:function(){return[e._v(" "+e._s(e.t("photos","Unselect all"))+" ")]},proxy:!0}],null,!0)}):e._e(),t("NcActions",{attrs:{"aria-label":e.t("photos","Open actions menu")}},[t("ActionDownload",{attrs:{"selected-file-ids":e.selectedFileIds,title:e.t("photos","Download selected files")}},[t("Download",{attrs:{slot:"icon"},slot:"icon"})],1),t("ActionFavorite",{attrs:{"selected-file-ids":e.selectedFileIds}}),t("NcActionButton",{attrs:{"close-after-click":!0,"aria-label":e.t("photos","Delete selection")},on:{click:e.deleteSelection},scopedSlots:e._u([{key:"icon",fn:function(){return[t("Delete")]},proxy:!0}])},[e._v(" "+e._s(e.t("photos","Delete selection"))+" ")])],1)],t("NcButton",{attrs:{title:e.t("photos","Toggle filter"),"aria-label":e.t("photos","Toggle filter"),"data-cy-timeline-action":"toggle-filters",type:"tertiary"},on:{click:e.toggleFilters},scopedSlots:e._u([{key:"icon",fn:function(){return[e.showFilters?t("FilterOff"):t("FilterIcon")]},proxy:!0}])})],2)]),e.showFilters?t("TimelineFilters",{staticClass:"timeline__filters",on:{input:e.handleFiltersChange},model:{value:e.extraFilters,callback:function(s){e.extraFilters=s},expression:"extraFilters"}}):e._e(),t("FilesListViewer",{ref:"filesListViewer",staticClass:"timeline__file-list",attrs:{"container-element":e.appContent,"file-ids-by-section":e.fileIdsByMonth,sections:e.monthsList,loading:e.loadingFiles,"base-height":e.isMobile?120:200,"empty-message":e.t("photos","No photos or videos in here")},on:{"need-content":e.getContent},scopedSlots:e._u([{key:"default",fn:function({file:s,isHeader:i,distance:o}){return[i?t("h2",{staticClass:"section-header",attrs:{id:`file-picker-section-header-${s.id}`}},[t("b",[e._v(e._s(e._f("dateMonth")(s.id)))]),e._v(" "+e._s(e._f("dateYear")(s.id))+" ")]):t("File",{attrs:{file:e.files[s.id],"allow-selection":!0,selected:e.selection[s.id]===!0,distance:o},on:{click:e.openViewer,"select-toggled":e.onFileSelectToggle}})]}}])}),e.showAlbumCreationForm?t("NcModal",{key:"albumCreationForm",attrs:{"label-id":"new-album-form","set-return-focus":e.$refs.newAlbumButton?.$el},on:{close:function(s){e.showAlbumCreationForm=!1}}},[t("h2",{staticClass:"timeline__heading"},[e._v(" "+e._s(e.t("photos","New album"))+" ")]),t("AlbumForm",{on:{done:function(s){e.showAlbumCreationForm=!1}}})],1):e._e(),e.showAlbumPicker?t("NcModal",{key:"albumPicker",attrs:{"label-id":"album-picker"},on:{close:function(s){e.showAlbumPicker=!1}}},[t("AlbumPicker",{on:{"album-picked":e.addSelectionToAlbum}})],1):e._e()],1)},Ge=[],We=r(Qe,Je,Ge,!1,null,"2fe2b744");const Ct=We.exports;export{Ct as default};
//# sourceMappingURL=Timeline-h9TQ639w.chunk.mjs.map
