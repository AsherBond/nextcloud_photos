(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".album-picker[data-v-3a655082]{padding:16px 32px 32px}.album-picker h2[data-v-3a655082]{display:flex;align-items:center;height:60px}.album-picker h2 .loading-icon[data-v-3a655082]{margin-left:32px}.album-picker .albums-container[data-v-3a655082]{min-height:150px;max-height:350px;overflow-x:scroll;padding:2px}.album-picker .albums-container .album[data-v-3a655082] .list-item{padding:8px 16px;box-sizing:border-box}.album-picker .albums-container .album[data-v-3a655082]:not(:last-child){margin-bottom:16px}.album-picker .albums-container .album__image[data-v-3a655082]{width:40px;height:40px;object-fit:none;border-radius:var(--border-radius)}.album-picker .albums-container .album__image--placeholder[data-v-3a655082]{background:var(--color-primary-element-light)}.album-picker .albums-container .album__image--placeholder[data-v-3a655082] .material-design-icon{width:100%;height:100%}.album-picker .albums-container .album__image--placeholder[data-v-3a655082] .material-design-icon .material-design-icon__svg{fill:var(--color-primary-element)}.album-picker .new-album-button[data-v-3a655082]{margin-top:32px}.timeline[data-v-943f8906]{display:flex;flex-direction:column}.timeline__empty-content[data-v-943f8906],.timeline__empty-content .empty-content[data-v-943f8906]{height:100%}.timeline__empty-content .timeline__update_source_directory[data-v-943f8906]{align-items:center}.timeline__empty-content .timeline__update_source_directory[data-v-943f8906] .folder{min-width:unset}.timeline__header__left[data-v-943f8906]{display:flex;gap:4px}.timeline__heading[data-v-943f8906]{padding:calc(var(--default-grid-baseline) * 4);margin-bottom:0;padding-bottom:0}.timeline__file-list[data-v-943f8906]{padding:0 64px}@media only screen and (max-width: 1200px){.timeline__file-list[data-v-943f8906]{padding:0 4px}}.timeline__file-list[data-v-943f8906] .files-list-viewer__section-header{top:var(--photos-navigation-height)}")),document.head.appendChild(e)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();
import{n as d,L as y,C as m,x as n,o as v,e as h,M as A,A as C,q as g,D as w,y as F,O as r}from"./index-BYQN7aMH.chunk.mjs";import{n as a,m as c}from"./index-Dq3i_7qQ.chunk.mjs";import{P as p}from"./Plus-Dx_FO6gz.chunk.mjs";import{F as k,D as N}from"./FilesByMonthMixin-DoBenXFe.chunk.mjs";import{D as S}from"./Download-C4od6XjR.chunk.mjs";import{C as x}from"./Close-DI-VtECP.chunk.mjs";import{A as M}from"./AlertCircle-C9O0OOaX.chunk.mjs";import{c as B,a as H,t as f,g as u,_ as b,u as I,s as O}from"./vue.runtime.esm-K-L1yEsQ.chunk.mjs";import{N as $}from"./NcEmptyContent-BG0fUoqQ.chunk.mjs";import{i as L}from"./isMobile-BBqr-ye-.chunk.mjs";import{F as D}from"./FetchFilesMixin-L5phQwy1.chunk.mjs";import{F as V,a as P}from"./FilesListViewer-CASfW7KC.chunk.mjs";import{F as T}from"./File-BXkbD6Ma.chunk.mjs";import{A as _}from"./AlbumForm-KHJRZGYT.chunk.mjs";import{I as z}from"./ImageMultiple-3NnMjubV.chunk.mjs";import{N as U}from"./NcUserBubble-cO5krePG-dOreA5d4.chunk.mjs";import{F as Y}from"./FetchCollectionsMixin-gUibLfkd.chunk.mjs";import{A as E}from"./ActionFavorite-DLZ0st5x.chunk.mjs";import{H as j}from"./HeaderNavigation-DTF5ayF7.chunk.mjs";import{a as q}from"./PhotosSourceLocationsSettings-nSCy00rk.chunk.mjs";import"./PhotoSearch-CUbV2h7p.chunk.mjs";import"./AbortControllerMixin-DeafVJKx.chunk.mjs";import"./fileFetcher-BcxeSOR-.chunk.mjs";import"./Video-BjYDux14.chunk.mjs";import"./MapMarker-DU2n9mFv.chunk.mjs";import"./Send-DpRwb6_L.chunk.mjs";import"./AccountGroup-Ahuk8xvp.chunk.mjs";import"./index-BycAmYAy.chunk.mjs";import"./FetchCollectionContentMixin-nWJijA1R.chunk.mjs";import"./collectionFetcher-nHOVzq_j.chunk.mjs";import"./index-bYaAuPX-.chunk.mjs";import"./preload-helper-Dh9HmuEY.chunk.mjs";import"./Star-CxLHD1v4.chunk.mjs";import"./ArrowLeft-GsIPVf1a.chunk.mjs";import"./index-D8PpdwFz.chunk.mjs";import"./Folder-wKLAMdab.chunk.mjs";const R={name:"NcCounterBubble",props:{type:{type:String,default:"",validator(t){return["highlighted","outlined",""].includes(t)}},active:{type:Boolean,default:!1},count:{type:Number,required:!1,default:void 0},raw:{type:Boolean,required:!1,default:!1}},computed:{counterClassObject(){return{"counter-bubble__counter--highlighted":this.type==="highlighted","counter-bubble__counter--outlined":this.type==="outlined",active:this.active}},humanizedCount(){return this.humanizeCount(this.count)}},methods:{humanizeCount(t){return this.raw?t.toString():new Intl.NumberFormat(B(),{notation:"compact",compactDisplay:"short"}).format(t)},getHumanizedCount(){if(this.count!==void 0)return{humanized:this.humanizedCount,original:this.count.toString()};if(!this.raw&&this.$slots.default?.length===1){const t=this.$slots.default[0].text?.trim();if(t&&/^\d+$/.test(t)){const e=parseInt(t,10);return{humanized:this.humanizeCount(e),original:t}}}}},render(t){const e=this.getHumanizedCount();return t("div",{staticClass:"counter-bubble__counter",class:this.counterClassObject,attrs:{title:e&&e.original!==e.humanized?e.original:void 0}},[e?.humanized??this.$slots.default])}},K=null,Z=null;var J=d(R,K,Z,!1,null,"f1abaa29");const G=J.exports,Q={name:"NcListItem",components:{NcActions:m,NcCounterBubble:G,NcVNodes:y},props:{details:{type:String,default:""},name:{type:String,default:void 0},exact:{type:Boolean,default:!1},to:{type:[String,Object],default:null},href:{type:String,default:"#"},target:{type:String,default:""},anchorId:{type:String,default:""},bold:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},active:{type:Boolean,default:!1},linkAriaLabel:{type:String,default:""},actionsAriaLabel:{type:String,default:void 0},counterNumber:{type:[Number,String],default:0},counterType:{type:String,default:"",validator(t){return["highlighted","outlined",""].indexOf(t)!==-1}},forceDisplayActions:{type:Boolean,default:!1},forceMenu:{type:Boolean,default:!1},oneLine:{type:Boolean,default:!1}},emits:["click","update:menuOpen"],setup(){const[t]=window._oc_config?.version.split(".",2)??[];return{isLegacy:t&&Number.parseInt(t)<30}},data(){return{hovered:!1,hasActions:!1,hasSubname:!1,displayActionsOnHoverFocus:!1,menuOpen:!1,hasIndicator:!1,hasDetails:!1}},computed:{showAdditionalElements(){return!this.displayActionsOnHoverFocus||this.forceDisplayActions},showDetails(){return(this.details!==""||this.hasDetails)&&(!this.displayActionsOnHoverFocus||this.forceDisplayActions)}},watch:{menuOpen(t){!t&&!this.hovered&&(this.displayActionsOnHoverFocus=!1)}},mounted(){this.checkSlots()},updated(){this.checkSlots()},methods:{onClick(t,e,i){this.$emit("click",t),!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&i&&(e?.(t),t.preventDefault())},showActions(){this.hasActions&&(this.displayActionsOnHoverFocus=!0),this.hovered=!1},hideActions(){this.displayActionsOnHoverFocus=!1},handleBlur(t){this.menuOpen||this.$refs["list-item"].contains(t.relatedTarget)||this.hideActions()},handleMouseleave(){this.menuOpen||(this.displayActionsOnHoverFocus=!1),this.hovered=!1},handleMouseover(){this.showActions(),this.hovered=!0},handleActionsUpdateOpen(t){this.menuOpen=t,this.$emit("update:menuOpen",t)},checkSlots(){this.hasActions!==!!this.$slots.actions&&(this.hasActions=!!this.$slots.actions),this.hasSubname!==!!this.$slots.subname&&(this.hasSubname=!!this.$slots.subname),this.hasIndicator!==!!this.$slots.indicator&&(this.hasIndicator=!!this.$slots.indicator),this.hasDetails!==!!this.$slots.details&&(this.hasDetails=!!this.$slots.details)}}};var W=function(){var t=this,e=t._self._c;return e(t.to?"router-link":"NcVNodes",{tag:"component",attrs:{custom:t.to?!0:null,to:t.to,exact:t.to?t.exact:null},scopedSlots:t._u([{key:"default",fn:function({href:i,navigate:l,isActive:s}){return[e("li",{staticClass:"list-item__wrapper",class:{"list-item__wrapper--active":s||t.active}},[e("div",{ref:"list-item",staticClass:"list-item",class:{"list-item--compact":t.compact,"list-item--legacy":t.isLegacy,"list-item--one-line":t.oneLine},on:{mouseover:t.handleMouseover,mouseleave:t.handleMouseleave}},[e("a",{staticClass:"list-item__anchor",attrs:{id:t.anchorId||void 0,"aria-label":t.linkAriaLabel,href:i||t.href,target:t.target||(t.href==="#"?void 0:"_blank"),rel:t.href==="#"?void 0:"noopener noreferrer"},on:{focus:t.showActions,focusout:t.handleBlur,click:function(o){return t.onClick(o,l,i)},keydown:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"esc",27,o.key,["Esc","Escape"])?null:t.hideActions.apply(null,arguments)}}},[t._t("icon"),e("div",{staticClass:"list-item-content"},[e("div",{staticClass:"list-item-content__main"},[e("div",{staticClass:"list-item-content__name"},[t._t("name",function(){return[t._v(t._s(t.name))]})],2),t.hasSubname?e("div",{staticClass:"list-item-content__subname",class:{"list-item-content__subname--bold":t.bold}},[t._t("subname")],2):t._e()]),e("div",{staticClass:"list-item-content__details"},[t.showDetails?e("div",{staticClass:"list-item-details__details"},[t._t("details",function(){return[t._v(t._s(t.details))]})],2):t._e(),t.counterNumber||t.hasIndicator?e("div",{directives:[{name:"show",rawName:"v-show",value:t.showAdditionalElements,expression:"showAdditionalElements"}],staticClass:"list-item-details__extra"},[t.counterNumber?e("NcCounterBubble",{staticClass:"list-item-details__counter",attrs:{active:s||t.active,type:t.counterType}},[t._v(" "+t._s(t.counterNumber)+" ")]):t._e(),t.hasIndicator?e("span",{staticClass:"list-item-details__indicator"},[t._t("indicator")],2):t._e()],1):t._e()])])],2),t.$slots["extra-actions"]?e("div",{staticClass:"list-item-content__extra-actions"},[t._t("extra-actions")],2):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.forceDisplayActions||t.displayActionsOnHoverFocus,expression:"forceDisplayActions || displayActionsOnHoverFocus"}],staticClass:"list-item-content__actions",on:{focusout:t.handleBlur}},[e("NcActions",{ref:"actions",attrs:{primary:s||t.active,"force-menu":t.forceMenu,"aria-label":t.actionsAriaLabel},on:{"update:open":t.handleActionsUpdateOpen},scopedSlots:t._u([t.$slots["actions-icon"]?{key:"icon",fn:function(){return[t._t("actions-icon")]},proxy:!0}:null],null,!0)},[t._t("actions")],2)],1),t.$slots.extra?e("div",{staticClass:"list-item__extra"},[t._t("extra")],2):t._e()])])]}}],null,!0)})},X=[],tt=d(Q,W,X,!1,null,"40599719");const et=tt.exports,it={name:"FolderAlertOutlineIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var st=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon folder-alert-outline-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(i){return t.$emit("click",i)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M15,12H17V17H15V12M15,18H17V20H15V18M16,9C17.07,9 18.09,9.24 19,9.67V8H3V18H9.29C9.1,17.36 9,16.69 9,16A7,7 0 0,1 16,9M23,16A7,7 0 0,1 16,23C13.62,23 11.5,21.81 10.25,20H3C1.89,20 1,19.1 1,18V6C1,4.89 1.89,4 3,4H9L11,6H19A2,2 0 0,1 21,8V11.1C22.24,12.36 23,14.09 23,16M16,11A5,5 0 0,0 11,16A5,5 0 0,0 16,21A5,5 0 0,0 21,16A5,5 0 0,0 16,11Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},ot=[],at=a(it,st,ot,!1,null,null);const lt=at.exports,nt={name:"PlusBoxMultipleIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var rt=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon plus-box-multiple-icon",attrs:{"aria-hidden":t.title?null:"true","aria-label":t.title,role:"img"},on:{click:function(i){return t.$emit("click",i)}}},"span",t.$attrs,!1),[e("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.fillColor,width:t.size,height:t.size,viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M19,11H15V15H13V11H9V9H13V5H15V9H19M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M4,6H2V20A2,2 0 0,0 4,22H18V20H4V6Z"}},[t.title?e("title",[t._v(t._s(t.title))]):t._e()])])])},ct=[],ut=a(nt,rt,ct,!1,null,null);const dt=ut.exports,mt={name:"AlbumPicker",components:{Plus:p,ImageMultiple:z,NcButton:h,NcListItem:et,NcLoadingIcon:v,NcUserBubble:U,AlbumForm:_},filters:{toCoverUrl(t){return b(`/apps/photos/api/v1/preview/${t}?x=64&y=64`)}},mixins:[Y],data(){return{showAlbumCreationForm:!1}},computed:{...n(["albums","sharedAlbums"]),allAlbums(){return[...Object.values(this.albums),...Object.values(this.sharedAlbums)]}},mounted(){this.fetchAlbumList()},methods:{async fetchAlbumList(){await this.fetchCollections(`/photos/${u()?.uid}/albums`,["<nc:location />","<nc:dateRange />","<nc:collaborators />"]),await this.fetchCollections(`/photos/${u()?.uid}/sharedalbums`,["<nc:location />","<nc:dateRange />","<nc:collaborators />"])},albumCreatedHandler(){this.showAlbumCreationForm=!1,this.fetchAlbumList()},pickAlbum(t){this.$emit("album-picked",t)},isSharedAlbum(t){return t.filename.match(/^\/photos\/.+\/sharedalbums\//)!==null},originalName(t){return this.isSharedAlbum(t)?t.basename.replace(new RegExp(`\\(${t.collaborators[0].id}\\)$`),""):t.basename},t:f,n:H}};var ht=function(){var t=this,e=t._self._c;return t.showAlbumCreationForm?e("AlbumForm",{attrs:{"display-back-button":!0,title:t.t("photos","New album")},on:{back:function(i){t.showAlbumCreationForm=!1},done:t.albumCreatedHandler}}):e("div",{staticClass:"album-picker"},[e("h2",[t._v(" "+t._s(t.t("photos","Add to Album"))+" "),t.loadingCollections?e("NcLoadingIcon",{staticClass:"loading-icon"}):t._e()],1),e("ul",{staticClass:"albums-container"},t._l(t.allAlbums,function(i){return e("NcListItem",{key:i.filename,staticClass:"album",attrs:{name:t.originalName(i),"aria-label":t.t("photos","Add selection to album {albumName}",{albumName:i.basename})},on:{click:function(l){return t.pickAlbum(i)}},scopedSlots:t._u([{key:"subname",fn:function(){return[t._v(" "+t._s(t.n("photos","%n item","%n photos and videos",i.nbItems))+" "),t.isSharedAlbum(i)?[t._v(" ⸱ "+t._s(t.t("photos","Shared by"))+" "),e("NcUserBubble",{attrs:{"display-name":i.collaborators[0].label,user:i.collaborators[0].id}})]:t._e()]},proxy:!0}],null,!0)},[e("template",{slot:"icon"},[i.lastPhoto!==-1?e("img",{staticClass:"album__image",attrs:{src:t._f("toCoverUrl")(i.lastPhoto)}}):e("div",{staticClass:"album__image album__image--placeholder"},[e("ImageMultiple",{attrs:{size:32}})],1)])],2)}),1),e("NcButton",{staticClass:"new-album-button",attrs:{"aria-label":t.t("photos","Create a new album."),type:"tertiary"},on:{click:function(i){t.showAlbumCreationForm=!0}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Plus")]},proxy:!0}],null,!1,1489515321)},[t._v(" "+t._s(t.t("photos","Create new album"))+" ")])],1)},pt=[],ft=a(mt,ht,pt,!1,null,"3a655082");const bt=ft.exports,_t={name:"ActionDownload",components:{NcActionLink:A},props:{title:{type:String,required:!0},selectedFileIds:{type:Array,required:!0}},computed:{...n(["files"]),downloadUrl(){const t=new URLSearchParams,e=this.fileNames.map(i=>"/"+i.split("/").splice(3).join("/"));return t.append("files",JSON.stringify(e)),b(`/apps/files/ajax/download.php?${t}`)},fileNames(){return this.selectedFileIds.map(t=>this.files[t].filename)}}};var yt=function(){var t=this,e=t._self._c;return e("NcActionLink",{attrs:{"close-after-click":!0,href:t.downloadUrl,download:t.downloadUrl,"aria-label":t.title}},[t._v(" "+t._s(t.title)+" "),t._t("icon",null,{slot:"icon"})],2)},vt=[],At=a(_t,yt,vt,!1,null,null);const Ct=At.exports,gt={name:"Timeline",components:{Delete:N,PlusBoxMultiple:dt,Download:S,Close:x,Plus:p,FolderAlertOutline:lt,NcEmptyContent:$,NcModal:F,NcActions:m,NcActionButton:w,NcButton:h,AlbumForm:_,AlbumPicker:bt,FilesListViewer:P,File:T,ActionFavorite:E,ActionDownload:Ct,HeaderNavigation:j,PhotosSourceLocationsSettings:q,AlertCircle:M},filters:{dateMonth(t){return c(t,"YYYYMM").format("MMMM")},dateYear(t){return c(t,"YYYYMM").format("YYYY")}},mixins:[D,V,k,L],beforeRouteLeave(t,e,i){window.scrollTo(0,0),i()},props:{onlyFavorites:{type:Boolean,default:!1},mimesType:{type:Array,default:()=>g},onThisDay:{type:Boolean,default:!1},rootTitle:{type:String,required:!0}},data(){return{loadingCount:0,showAlbumCreationForm:!1,showAlbumPicker:!1,appContent:document.getElementById("app-content-vue")}},computed:{...n(["files"])},mounted(){O(r,this.handleUserConfigChange)},destroyed(){I(r,this.handleUserConfigChange)},methods:{...C(["deleteFiles","addFilesToCollection"]),getContent(){this.fetchFiles({mimesType:this.mimesType,onThisDay:this.onThisDay,onlyFavorites:this.onlyFavorites})},openViewer(t){const e=this.files[t];OCA.Viewer.open({fileInfo:e,list:Object.values(this.fileIdsByMonth).flat().map(i=>this.files[i]),loadMore:e.loadMore?async()=>await e.loadMore(!0):()=>[],canLoop:e.canLoop})},openUploader(){},async addSelectionToAlbum(t){this.showAlbumPicker=!1,await this.addFilesToCollection({collectionFileName:t.filename,fileIdsToAdd:this.selectedFileIds})},async deleteSelection(){const t=this.selectedFileIds;this.onUncheckFiles(t),this.fetchedFileIds=this.fetchedFileIds.filter(e=>!t.includes(e)),await this.deleteFiles(t)},handleUserConfigChange({key:t}){t==="photosSourceFolders"&&this.resetFetchFilesState()},t:f}};var wt=function(){var t=this,e=t._self._c;return t.errorFetchingFiles?e("div",{staticClass:"timeline__empty-content"},[t.errorFetchingFiles===404?e("NcEmptyContent",{attrs:{name:t.t("photos","One of the source folders does not exist")}},[e("FolderAlertOutline",{attrs:{slot:"icon"},slot:"icon"}),e("PhotosSourceLocationsSettings",{staticClass:"timeline__update_source_directory",attrs:{slot:"action"},slot:"action"})],1):e("NcEmptyContent",{attrs:{name:t.t("photos","An error occurred")}},[e("AlertCircle",{attrs:{slot:"icon"},slot:"icon"})],1)],1):e("div",{staticClass:"timeline"},[e("HeaderNavigation",{key:"navigation",attrs:{loading:t.loadingCount>0,path:"/",title:t.rootTitle,"root-title":t.rootTitle},on:{refresh:t.resetFetchFilesState}},[e("div",{staticClass:"timeline__header__left"},[t.selectedFileIds.length===0?e("NcButton",{ref:"newAlbumButton",attrs:{"aria-label":t.t("photos","Create new album")},on:{click:function(i){t.showAlbumCreationForm=!0}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("PlusBoxMultiple")]},proxy:!0}],null,!1,2640725948)},[t._v(" "+t._s(t.t("photos","Create new album"))+" ")]):[e("NcButton",{attrs:{"close-after-click":!0,type:"primary","aria-label":t.t("photos","Add to album")},on:{click:function(i){t.showAlbumPicker=!0}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Plus")]},proxy:!0},t.isMobile?null:{key:"default",fn:function(){return[t._v(" "+t._s(t.t("photos","Add to album"))+" ")]},proxy:!0}],null,!0)}),t.selectedFileIds.length>0?e("NcButton",{attrs:{"aria-label":t.t("photos","Unselect all")},on:{click:t.resetSelection},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Close")]},proxy:!0},t.isMobile?null:{key:"default",fn:function(){return[t._v(" "+t._s(t.t("photos","Unselect all"))+" ")]},proxy:!0}],null,!0)}):t._e(),e("NcActions",{attrs:{"aria-label":t.t("photos","Open actions menu")}},[e("ActionDownload",{attrs:{"selected-file-ids":t.selectedFileIds,title:t.t("photos","Download selected files")}},[e("Download",{attrs:{slot:"icon"},slot:"icon"})],1),e("ActionFavorite",{attrs:{"selected-file-ids":t.selectedFileIds}}),e("NcActionButton",{attrs:{"close-after-click":!0,"aria-label":t.t("photos","Delete selection")},on:{click:t.deleteSelection},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Delete")]},proxy:!0}])},[t._v(" "+t._s(t.t("photos","Delete selection"))+" ")])],1)]],2)]),e("FilesListViewer",{ref:"filesListViewer",staticClass:"timeline__file-list",attrs:{"container-element":t.appContent,"file-ids-by-section":t.fileIdsByMonth,sections:t.monthsList,loading:t.loadingFiles,"base-height":t.isMobile?120:200,"empty-message":t.t("photos","No photos or videos in here")},on:{"need-content":t.getContent},scopedSlots:t._u([{key:"default",fn:function({file:i,isHeader:l,distance:s}){return[l?e("h2",{staticClass:"section-header",attrs:{id:`file-picker-section-header-${i.id}`}},[e("b",[t._v(t._s(t._f("dateMonth")(i.id)))]),t._v(" "+t._s(t._f("dateYear")(i.id))+" ")]):e("File",{attrs:{file:t.files[i.id],"allow-selection":!0,selected:t.selection[i.id]===!0,distance:s},on:{click:t.openViewer,"select-toggled":t.onFileSelectToggle}})]}}])}),t.showAlbumCreationForm?e("NcModal",{key:"albumCreationForm",attrs:{"set-return-focus":t.$refs.newAlbumButton?.$el},on:{close:function(i){t.showAlbumCreationForm=!1}}},[e("h2",{staticClass:"timeline__heading"},[t._v(" "+t._s(t.t("photos","New album"))+" ")]),e("AlbumForm",{on:{done:function(i){t.showAlbumCreationForm=!1}}})],1):t._e(),t.showAlbumPicker?e("NcModal",{key:"albumPicker",on:{close:function(i){t.showAlbumPicker=!1}}},[e("AlbumPicker",{on:{"album-picked":t.addSelectionToAlbum}})],1):t._e()],1)},Ft=[],kt=a(gt,wt,Ft,!1,null,"943f8906");const re=kt.exports;export{re as default};
//# sourceMappingURL=Timeline-DjdFVzH6.chunk.mjs.map
