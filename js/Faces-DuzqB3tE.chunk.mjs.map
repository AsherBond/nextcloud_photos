{"version":3,"file":"Faces-DuzqB3tE.chunk.mjs","sources":["../node_modules/vue-material-design-icons/AccountOff.vue","../src/components/Faces/UnassignedFacesCover.vue","../src/views/Faces.vue"],"sourcesContent":["<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"title ? null : 'true'\"\n        :aria-label=\"title\"\n        class=\"material-design-icon account-off-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M12,4A4,4 0 0,1 16,8C16,9.95 14.6,11.58 12.75,11.93L8.07,7.25C8.42,5.4 10.05,4 12,4M12.28,14L18.28,20L20,21.72L18.73,23L15.73,20H4V18C4,16.16 6.5,14.61 9.87,14.14L2.78,7.05L4.05,5.78L12.28,14M20,18V19.18L15.14,14.32C18,14.93 20,16.35 20,18Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"AccountOffIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","<!--\n - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div :class=\"['face-cover', small && 'face-cover--small']\" @click=\"$emit('click')\">\n\t\t<div class=\"face-cover__crop-container\">\n\t\t\t<AccountOffIcon :size=\"'auto'\" :fill-color=\"colorMainBackground\" />\n\t\t</div>\n\t\t<div class=\"face-cover__details\">\n\t\t\t<div v-if=\"!small\" class=\"face-cover__details__second-line\">\n\t\t\t\t{{ n('photos', '%n unassigned photo', '%n unassigned photos', unassignedFilesCount) }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang='ts'>\nimport { mapGetters } from 'vuex'\nimport FetchFacesMixin from '../../mixins/FetchFacesMixin.js'\nimport FaceCoverMixin from '../../mixins/FaceCoverMixin.js'\nimport AccountOffIcon from 'vue-material-design-icons/AccountOff.vue'\n\nexport default {\n\tname: 'UnassignedFacesCover',\n\n\tcomponents: { AccountOffIcon },\n\n\tmixins: [\n\t\tFetchFacesMixin,\n\t\tFaceCoverMixin,\n\t],\n\n\tprops: {\n\t\tsmall: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'unassignedFilesCount',\n\t\t]),\n\t\tcolorMainBackground() {\n\t\t\treturn getComputedStyle(document.documentElement).getPropertyValue('--color-main-background')\n\t\t},\n\t},\n\n\tasync mounted() {\n\t\tawait this.fetchUnassignedFacesCount()\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@use '../../mixins/FaceCover';\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<!-- Errors handlers-->\n\t<NcEmptyContent v-if=\"errorFetchingFaces\">\n\t\t{{ t('photos', 'An error occurred') }}\n\t</NcEmptyContent>\n\n\t<!-- Face list -->\n\t<div v-else class=\"faces\">\n\t\t<NcLoadingIcon v-if=\"loadingFaces\" />\n\n\t\t<!-- No faces -->\n\t\t<div v-if=\"noFaces && !loadingFaces\" class=\"faces__empty\">\n\t\t\t<NcEmptyContent class=\"empty-content-with-illustration\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<AccountBoxMultipleOutline />\n\t\t\t\t</template>\n\t\t\t\t<template #desc>\n\t\t\t\t\t{{ t('photos', 'This might take some time depending on the size of your photo library.') }}\n\t\t\t\t</template>\n\t\t\t\t{{ t('photos', 'Recognized people will show up here') }}\n\t\t\t</NcEmptyContent>\n\t\t</div>\n\n\t\t<div v-else-if=\"!noFaces\" class=\"faces__list\">\n\t\t\t<router-link v-for=\"face in orderedFaces\"\n\t\t\t\t:key=\"face.basename\"\n\t\t\t\t:to=\"`/faces/${encodeURIComponent(face.basename)}`\">\n\t\t\t\t<FaceCover :base-name=\"face.basename\" />\n\t\t\t</router-link>\n\t\t\t<router-link key=\"unassigned\"\n\t\t\t\t:to=\"`/faces/unassigned`\">\n\t\t\t\t<UnassignedFacesCover />\n\t\t\t</router-link>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang='ts'>\nimport AccountBoxMultipleOutline from 'vue-material-design-icons/AccountBoxMultipleOutline.vue'\n\nimport { NcEmptyContent, NcLoadingIcon } from '@nextcloud/vue'\n\nimport FetchFacesMixin from '../mixins/FetchFacesMixin.js'\nimport FaceCover from '../components/Faces/FaceCover.vue'\nimport { mapGetters } from 'vuex'\nimport UnassignedFacesCover from '../components/Faces/UnassignedFacesCover.vue'\n\nexport default {\n\tname: 'Faces',\n\tcomponents: {\n\t\tUnassignedFacesCover,\n\t\tFaceCover,\n\t\tNcEmptyContent,\n\t\tNcLoadingIcon,\n\t\tAccountBoxMultipleOutline,\n\t},\n\n\tmixins: [\n\t\tFetchFacesMixin,\n\t],\n\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'facesFiles',\n\t\t\t'unassignedFilesCount',\n\t\t]),\n\n\t\t/**\n\t\t * @return {boolean} Whether the list of face is empty or not.\n\t\t */\n\t\tnoFaces() {\n\t\t\treturn Object.keys(this.faces).length === 0\n\t\t},\n\n\t\torderedFaces() {\n\t\t\treturn Object.values(this.faces).sort((a, b) => {\n\t\t\t\tif (a.props.nbItems && b.props.nbItems) {\n\t\t\t\t\treturn b.props.nbItems - a.props.nbItems\n\t\t\t\t}\n\t\t\t\tif (!this.facesFiles[b.basename] || !this.facesFiles[a.basename]) {\n\t\t\t\t\treturn 0\n\t\t\t\t}\n\t\t\t\treturn this.facesFiles[b.basename].length - this.facesFiles[a.basename].length\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.faces {\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: calc(100vh - var(--header-height));\n\tpadding-left: 64px;\n\n\t@media only screen and (max-width: 1020px) {\n\t\tpadding: 0;\n\t}\n\n\t&__header {\n\t\tdisplay: flex;\n\t\tmin-height: 60px;\n\t\talign-items: center;\n\n\t\tbutton {\n\t\t\tmargin-right: 32px;\n\t\t}\n\t}\n\n\t&__list {\n\t\tpadding-top: 24px;\n\t\tpadding-bottom: 32px;\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 32px;\n\t\talign-content: flex-start;\n\t}\n\n\t&__empty {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t&__button {\n\t\t\tmargin-top: 32px;\n\t\t}\n\t}\n}\n\n.empty-content-with-illustration :deep(.empty-content__icon) {\n\twidth: 200px;\n\theight: 200px;\n\n\tsvg {\n\t\twidth: 200px;\n\t\theight: 200px;\n\t}\n}\n</style>\n"],"names":["_sfc_main","_sfc_main$1","AccountOffIcon","FetchFacesMixin","FaceCoverMixin","mapGetters","UnassignedFacesCover","FaceCover","NcEmptyContent","NcLoadingIcon","AccountBoxMultipleOutline","a","b"],"mappings":"2XAoBA,MAAAA,EAAA,CACA,KAAA,iBACA,MAAA,CAAA,OAAA,EACA,MAAA,CACA,MAAA,CACA,KAAA,MACA,EACA,UAAA,CACA,KAAA,OACA,QAAA,cACA,EACA,KAAA,CACA,KAAA,OACA,QAAA,EACA,CACA,CACA,ivBCZAC,EAAA,CACA,KAAA,uBAEA,WAAA,CAAA,eAAAC,CAAA,EAEA,OAAA,CACAC,EACAC,CACA,EAEA,MAAA,CACA,MAAA,CACA,KAAA,QACA,QAAA,EAAA,CAEA,EAEA,SAAA,CACA,GAAAC,EAAA,CACA,sBAAA,CACA,EACA,qBAAA,CACA,OAAA,iBAAA,SAAA,eAAA,EAAA,iBAAA,yBAAA,CAAA,CAEA,EAEA,MAAA,SAAA,CACA,MAAA,KAAA,0BAAA,CAAA,CAEA,4jBCFAL,EAAA,CACA,KAAA,QACA,WAAA,CACA,qBAAAM,EACA,UAAAC,EACA,eAAAC,EACA,cAAAC,EACA,0BAAAC,CACA,EAEA,OAAA,CACAP,CACA,EAEA,SAAA,CACA,GAAAE,EAAA,CACA,aACA,sBAAA,CACA,EAKA,SAAA,CACA,OAAA,OAAA,KAAA,KAAA,KAAA,EAAA,SAAA,CACA,EAEA,cAAA,CACA,OAAA,OAAA,OAAA,KAAA,KAAA,EAAA,KAAA,CAAAM,EAAAC,IACAD,EAAA,MAAA,SAAAC,EAAA,MAAA,QACAA,EAAA,MAAA,QAAAD,EAAA,MAAA,QAEA,CAAA,KAAA,WAAAC,EAAA,QAAA,GAAA,CAAA,KAAA,WAAAD,EAAA,QAAA,EACA,EAEA,KAAA,WAAAC,EAAA,QAAA,EAAA,OAAA,KAAA,WAAAD,EAAA,QAAA,EAAA,MACA,CAAA,CACA,CAEA","x_google_ignoreList":[0]}