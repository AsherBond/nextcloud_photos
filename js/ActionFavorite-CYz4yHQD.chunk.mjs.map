{"version":3,"file":"ActionFavorite-CYz4yHQD.chunk.mjs","sources":["../src/components/Actions/ActionFavorite.vue"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NcActionButton v-if=\"shouldFavoriteSelection\"\n\t\t:close-after-click=\"true\"\n\t\t:aria-label=\"t('photos', 'Mark selection as favorite')\"\n\t\t@click=\"favoriteSelection\">\n\t\t{{ t('photos', 'Add selection to favorites') }}\n\t\t<Star slot=\"icon\" />\n\t</NcActionButton>\n\t<NcActionButton v-else\n\t\t:close-after-click=\"true\"\n\t\t:aria-label=\"t('photos', 'Remove selection from favorites')\"\n\t\t@click=\"unFavoriteSelection\">\n\t\t{{ t('photos', 'Remove selection from favorites') }}\n\t\t<Star slot=\"icon\" />\n\t</NcActionButton>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport Star from 'vue-material-design-icons/Star.vue'\n\nimport { NcActionButton } from '@nextcloud/vue'\n\nexport default {\n\tname: 'ActionFavorite',\n\tcomponents: {\n\t\tStar,\n\t\tNcActionButton,\n\t},\n\n\tprops: {\n\t\tselectedFileIds: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'files',\n\t\t]),\n\n\t\t/** @return {boolean} */\n\t\tshouldFavoriteSelection() {\n\t\t\t// Favorite all selection if at least one file is not in the favorites.\n\t\t\treturn this.selectedFileIds.some((fileId) => this.files[fileId].favorite === 0)\n\t\t},\n\t},\n\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'toggleFavoriteForFiles',\n\t\t]),\n\n\t\tasync favoriteSelection() {\n\t\t\tawait this.toggleFavoriteForFiles({ fileIds: this.selectedFileIds, favoriteState: 1 })\n\t\t},\n\n\t\tasync unFavoriteSelection() {\n\t\t\tawait this.toggleFavoriteForFiles({ fileIds: this.selectedFileIds, favoriteState: 0 })\n\t\t},\n\t},\n}\n</script>\n"],"names":["_sfc_main","Star","NcActionButton","mapGetters","fileId","mapActions"],"mappings":"uMA2BA,MAAAA,EAAA,CACA,KAAA,iBACA,WAAA,CACA,KAAAC,EACA,eAAAC,CACA,EAEA,MAAA,CACA,gBAAA,CACA,KAAA,MACA,SAAA,EACA,CACA,EAEA,SAAA,CACA,GAAAC,EAAA,CACA,OACA,CAAA,EAGA,yBAAA,CAEA,OAAA,KAAA,gBAAA,KAAAC,GAAA,KAAA,MAAAA,CAAA,EAAA,WAAA,CAAA,CACA,CACA,EAEA,QAAA,CACA,GAAAC,EAAA,CACA,wBACA,CAAA,EAEA,MAAA,mBAAA,CACA,MAAA,KAAA,uBAAA,CAAA,QAAA,KAAA,gBAAA,cAAA,CAAA,CAAA,CACA,EAEA,MAAA,qBAAA,CACA,MAAA,KAAA,uBAAA,CAAA,QAAA,KAAA,gBAAA,cAAA,CAAA,CAAA,CACA,CACA,CACA"}