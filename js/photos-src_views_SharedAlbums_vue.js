/*! For license information please see photos-src_views_SharedAlbums_vue.js.LICENSE.txt */
"use strict";(self.webpackChunkphotos=self.webpackChunkphotos||[]).push([["src_views_SharedAlbums_vue"],{49723:(n,t,e)=>{e.d(t,{Z:()=>r});var a=e(20629),s=e(77958),l=e(69363),o=e(99622);const r={name:"FetchSharedAlbumsMixin",data:()=>({errorFetchingAlbums:null,loadingAlbums:!1}),mixins:[l.Z],async beforeMount(){this.fetchAlbums()},computed:{...(0,a.Se)(["sharedAlbums"])},methods:{...(0,a.nv)(["addSharedAlbums"]),async fetchAlbums(){if(!this.loadingAlbums)try{var n;this.loadingAlbums=!0,this.errorFetchingAlbums=null;const t=await(0,o.CE)("/photos/".concat(null===(n=(0,s.ts)())||void 0===n?void 0:n.uid,"/sharedalbums"),this.abortController.signal);this.addSharedAlbums({albums:t})}catch(n){var t;404===(null===(t=n.response)||void 0===t?void 0:t.status)?this.errorFetchingAlbums=404:this.errorFetchingAlbums=n}finally{this.loadingAlbums=!1}}}}},83137:(n,t,e)=>{e.d(t,{Z:()=>r});var a=e(87537),s=e.n(a),l=e(23645),o=e.n(l)()(s());o.push([n.id,".albums-list[data-v-10a1f9c9]{display:flex;flex-direction:column}.albums-list .album__name[data-v-10a1f9c9]{font-weight:normal;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}","",{version:3,sources:["webpack://./src/views/SharedAlbums.vue"],names:[],mappings:"AAiHA,8BACC,YAAA,CACA,qBAAA,CAEA,2CACC,kBAAA,CACA,eAAA,CACA,kBAAA,CACA,sBAAA",sourcesContent:['$sizes: ("400": ("count": 3, "marginTop": 66, "marginW": 8), "700": ("count": 4, "marginTop": 66, "marginW": 8), "1024": ("count": 5, "marginTop": 66, "marginW": 44), "1280": ("count": 4, "marginTop": 66, "marginW": 44), "1440": ("count": 5, "marginTop": 88, "marginW": 66), "1600": ("count": 6, "marginTop": 88, "marginW": 66), "2048": ("count": 7, "marginTop": 88, "marginW": 66), "2560": ("count": 8, "marginTop": 88, "marginW": 88), "3440": ("count": 9, "marginTop": 88, "marginW": 88), "max": ("count": 10, "marginTop": 88, "marginW": 88));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.albums-list {\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t.album__name {\n\t\tfont-weight: normal;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n'],sourceRoot:""}]);const r=o},46141:(n,t,e)=>{e.r(t),e.d(t,{default:()=>T});var a=e(65322),s=e(79753),l=e(15961),o=e(49723),r=e(46764),i=e(23113),m=e(68391),u=e(9944);const c={name:"SharedAlbums",components:{FolderMultipleImage:a.Z,NcEmptyContent:l.SL,CollectionsList:r.Z,CollectionCover:i.Z,HeaderNavigation:m.Z,NcUserBubble:l.uq},filters:{coverUrl:n=>-1===n?"":(0,s.generateUrl)("/apps/photos/api/v1/preview/".concat(n,"?x=",512,"&y=",512)),albumOriginalName:n=>n.basename.replace(new RegExp("\\(".concat(n.collaborators[0].id,"\\)$")),"")},mixins:[o.Z],methods:{t:u.translate,n:u.translatePlural}};var d=e(93379),b=e.n(d),h=e(7795),A=e.n(h),p=e(90569),g=e.n(p),v=e(3565),f=e.n(v),C=e(19216),_=e.n(C),y=e(44589),w=e.n(y),x=e(83137),S={};S.styleTagTransform=w(),S.setAttributes=f(),S.insert=g().bind(null,"head"),S.domAPI=A(),S.insertStyleElement=_();b()(x.Z,S);x.Z&&x.Z.locals&&x.Z.locals;const T=(0,e(51900).Z)(c,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("CollectionsList",{staticClass:"albums-list",attrs:{collections:n.sharedAlbums,loading:n.loadingAlbums,error:n.errorFetchingAlbums},scopedSlots:n._u([{key:"default",fn:function(t){var a=t.collection;return e("CollectionCover",{key:a.basename,attrs:{link:"/sharedalbums/"+a.basename,"alt-img":n.t("photos","Cover photo for shared album {albumName}.",{albumName:a.basename}),"data-test":a.basename,"cover-url":n._f("coverUrl")(a.lastPhoto)}},[e("h2",{staticClass:"album__name"},[n._v("\n\t\t\t"+n._s(n._f("albumOriginalName")(a))+"\n\t\t")]),n._v(" "),e("div",{staticClass:"album__details",attrs:{slot:"subtitle"},slot:"subtitle"},[n._v("\n\t\t\t"+n._s(a.date)+" ⸱ "+n._s(n.n("photos","%n item","%n photos and videos",a.nbItems))+"\n\t\t\t"),e("br"),n._v("\n\t\t\t"+n._s(n.t("photos","Shared by"))+" "),e("NcUserBubble",{attrs:{"display-name":a.collaborators[0].label,user:a.collaborators[0].id}})],1)])}}])},[e("HeaderNavigation",{key:"navigation",attrs:{slot:"header",loading:n.loadingAlbums,title:n.t("photos","Shared albums"),"root-title":n.t("photos","Shared albums")},on:{refresh:n.fetchAlbums},slot:"header"}),n._v(" "),n._v(" "),e("NcEmptyContent",{attrs:{slot:"empty-collections-list",title:n.t("photos","There is no album yet!")},slot:"empty-collections-list"},[e("FolderMultipleImage",{attrs:{slot:"icon"},slot:"icon"})],1)],1)}),[],!1,null,"10a1f9c9",null).exports}}]);
//# sourceMappingURL=photos-src_views_SharedAlbums_vue.js.map?v=b8c6df0da29713d49442